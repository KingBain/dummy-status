import"../chunks/Bzak7iHL.js";import{i as re}from"../chunks/Dh2gmgZb.js";import{h as Ue,x as se,y as m,A as O,C as c,D as oe,N as y,a6 as Q,L as e,I as o,F as t,G as r,B as P,J as _,aT as ae,aQ as le,aY as Je,z as Qe,$ as qe}from"../chunks/CtotUuV-.js";import{i as T}from"../chunks/1QAaCHum.js";import{e as de,i as ce,h as Z}from"../chunks/M9jzhmPO.js";import{t as Ae}from"../chunks/BkBjuftV.js";import{o as _e}from"../chunks/C-r278J6.js";import{c as s,s as te,r as ve}from"../chunks/DJVI2yxo.js";import{t as Ke,c as ue,a as pe,h as me,L as fe,s as ke}from"../chunks/DFYinKEd.js";import{a as ne}from"../chunks/CRKvlQQF.js";import{b as Ve}from"../chunks/DKO1Lz01.js";function Xe(L,Y,f,C){var w=L.__style;if(Ue||w!==Y){var $=Ke(Y);(!Ue||$!==L.getAttribute("style"))&&($==null?L.removeAttribute("style"):L.style.cssText=$),L.__style=Y}return C}var Ze=m('<article class="up"> </article>'),ea=m('<article><div class="f"><div><h4> </h4> <div> </div></div> <div class="f r"><a> </a></div></div></article>'),aa=m("<h2> </h2> <!>",1),ta=m('<!> <section class="svelte-1b6gx67"><!></section>',1);function ra(L,Y){se(Y,!1);let f=Q(!0);const C=ue(),w=s.owner,$=s.repo;let i=Q([]);_e(async()=>{try{y(i,(await pe(`issues-${w}-${$}`,()=>C.issues.listForRepo({owner:w,repo:$,state:"open",filter:"all",sort:"created",direction:"desc",labels:"status"}))).data),y(i,e(i).map((n,l)=>(n.showHeading=l===0||new Date(e(i)[l-1].created_at).toLocaleDateString()!==new Date(n.created_at).toLocaleDateString(),n)))}catch(n){me(n)}y(f,!1)}),re();var b=ta(),U=O(b);{var q=n=>{var l=Ze(),A=t(l);r(l),P(()=>_(A,`✅   ${s.i18n.allSystemsOperational??""}`)),c(n,l)};T(U,n=>{!e(i).length&&!e(f)&&n(q)})}var D=o(U,2),a=t(D);{var v=n=>{fe(n,{})},z=n=>{var l=ae(),A=O(l);{var x=h=>{var u=aa(),B=O(u),d=t(B,!0);r(B);var j=o(B,2);de(j,1,()=>e(i),ce,(M,R)=>{var E=ea(),G=t(E),k=t(G),W=t(k),V=t(W,!0);r(W);var H=o(W,2),N=t(H,!0);r(H),r(k);var F=o(k,2),g=t(F),J=t(g,!0);r(g),r(F),r(G),r(E),P((S,K,X,ee)=>{ke(E,1,`down down-active link ${S??""}`),_(V,K),_(N,X),te(g,"href",`${s.path}/incident/${e(R).number}`),_(J,ee)},[()=>e(R).title.includes("degraded")?"degraded":"",()=>e(R).title.replace("🛑","").replace("⚠️","").trim(),()=>s.i18n.activeIncidentSummary.replace(/\$DATE/g,new Date(e(R).created_at).toLocaleString(s.i18n.locale)).replace(/\$POSTS/g,e(R).comments),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(R).number)]),c(M,E)}),P(()=>_(d,s.i18n.activeIncidents)),c(h,u)};T(A,h=>{e(i).length&&h(x)},!0)}c(n,l)};T(a,n=>{e(f)?n(v):n(z,!1)})}r(D),c(L,b),oe()}var sa=m("<div> </div>"),oa=m('<article class="degraded degraded-active link"><div class="f"><div><h4> </h4> <!></div> <div class="f r"><a> </a></div></div></article>'),ia=m("<h2> </h2> <!>",1),la=m('<section class="svelte-1b6gx67"><!></section>');function va(L,Y){se(Y,!1);let f=Q(!0);const C=ue(),w=s.owner,$=s.repo;let i=Q([]);_e(async()=>{try{y(i,(await pe(`scheduled-current-${w}-${$}`,()=>C.issues.listForRepo({owner:w,repo:$,state:"open",filter:"all",sort:"created",direction:"desc",labels:"maintenance"}))).data),y(i,e(i).map((a,v)=>(a.showHeading=v===0||new Date(e(i)[v-1].created_at).toLocaleDateString()!==new Date(a.created_at).toLocaleDateString(),a.metadata={},a.body.includes("<!--")&&a.body.split("<!--")[1].split("-->")[0].split(`
`).filter(l=>l.trim()).filter(l=>l.includes(":")).forEach(l=>{a.metadata[l.split(/:(.+)/)[0].trim()]=l.split(/:(.+)/)[1].trim()}),a)))}catch(a){me(a)}y(f,!1)}),re();var b=la(),U=t(b);{var q=a=>{fe(a,{})},D=a=>{var v=ae(),z=O(v);{var n=l=>{var A=ia(),x=O(A),h=t(x,!0);r(x);var u=o(x,2);de(u,1,()=>e(i),ce,(B,d)=>{var j=oa(),M=t(j),R=t(M),E=t(R),G=t(E,!0);r(E);var k=o(E,2);{var W=F=>{var g=sa(),J=t(g,!0);r(g),P(S=>_(J,S),[()=>(new Date(e(d).metadata.start).getTime()<new Date().getTime()?s.i18n.scheduledMaintenanceSummaryStarted:s.i18n.scheduledMaintenanceSummaryStarts).replace(/\$DATE/g,new Date(e(d).metadata.start).toLocaleString(s.i18n.locale)).replace(/\$DURATION/g,Math.floor((new Date(e(d).metadata.end).getTime()-new Date(e(d).metadata.start).getTime())/6e4))]),c(F,g)};T(k,F=>{e(d).metadata.start&&e(d).metadata.end&&F(W)})}r(R);var V=o(R,2),H=t(V),N=t(H,!0);r(H),r(V),r(M),r(j),P((F,g)=>{_(G,F),te(H,"href",`${s.path}/incident/${e(d).number}`),_(N,g)},[()=>e(d).title.replace("🛑","").replace("⚠️","").trim(),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(d).number)]),c(B,j)}),P(()=>_(h,s.i18n.scheduledMaintenance)),c(l,A)};T(z,l=>{e(i).length&&l(n)},!0)}c(a,v)};T(U,a=>{e(f)?a(q):a(D,!1)})}r(b),c(L,b),oe()}var na=m("<h3> </h3>"),da=m('<!> <article><div class="f"><div><h4> </h4> <div><!></div></div> <div class="f r"><a> </a></div></div></article>',1),ca=m('<h2 class="svelte-1s892aw"> </h2> <!>',1),_a=m("<section><!></section>");function ua(L,Y){se(Y,!1);let f=Q(!0);const C=ue(),w=s.owner,$=s.repo;let i=Q([]);_e(async()=>{try{y(i,(await pe(`closed-issues-${w}-${$}`,()=>C.issues.listForRepo({owner:w,repo:$,state:"closed",filter:"all",sort:"created",direction:"desc",labels:"status"}))).data)}catch(a){me(a)}y(i,e(i).map((a,v)=>(a.showHeading=v===0||new Date(e(i)[v-1].created_at).toLocaleDateString()!==new Date(a.created_at).toLocaleDateString(),a))),y(f,!1)}),re();var b=_a(),U=t(b);{var q=a=>{fe(a,{})},D=a=>{var v=ae(),z=O(v);{var n=l=>{var A=ca(),x=O(A),h=t(x,!0);r(x);var u=o(x,2);de(u,1,()=>e(i),ce,(B,d)=>{var j=da(),M=O(j);{var R=S=>{var K=na(),X=t(K,!0);r(K),P(ee=>_(X,ee),[()=>new Date(e(d).created_at).toLocaleDateString(s.i18n.locale)]),c(S,K)};T(M,S=>{e(d).showHeading&&S(R)})}var E=o(M,2),G=t(E),k=t(G),W=t(k),V=t(W,!0);r(W);var H=o(W,2),N=t(H);Z(N,()=>s.i18n.pastIncidentsResolved.replace(/\$MINUTES/g,((new Date(e(d).closed_at).getTime()-new Date(e(d).created_at).getTime())/6e4).toFixed(0)).replace(/\$POSTS/g,e(d).comments)),r(H),r(k);var F=o(k,2),g=t(F),J=t(g,!0);r(g),r(F),r(G),r(E),P((S,K,X)=>{ke(E,1,`down link ${S??""}`),_(V,K),te(g,"href",`${s.path}/incident/${e(d).number}`),_(J,X)},[()=>e(d).title.includes("degraded")?"degraded":"",()=>e(d).title.replace("🛑","").replace("⚠️","").trim(),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(d).number)]),c(B,j)}),P(()=>_(h,s.i18n.pastIncidents)),c(l,A)};T(z,l=>{e(i).length&&l(n)},!0)}c(a,v)};T(U,a=>{e(f)?a(q):a(D,!1)})}r(b),c(L,b),oe()}var ma=m('<div><!> <span class="data svelte-oyfk4y"> <!></span></div>'),fa=m('<article><h4><img class="icon svelte-oyfk4y" alt=""/> <a class="svelte-oyfk4y"> </a></h4> <div><!> <span class="data svelte-oyfk4y"> <!></span></div> <!></article>'),pa=m('<div class="f changed svelte-oyfk4y"><h2> </h2> <form class="f r svelte-oyfk4y"><div><input name="d" type="radio" id="data_day" class="svelte-oyfk4y"/><label for="data_day" class="svelte-oyfk4y"> </label></div> <div><input name="d" type="radio" id="data_week" class="svelte-oyfk4y"/><label for="data_week" class="svelte-oyfk4y"> </label></div> <div><input name="d" type="radio" id="data_month" class="svelte-oyfk4y"/><label for="data_month" class="svelte-oyfk4y"> </label></div> <div><input name="d" type="radio" id="data_year" class="svelte-oyfk4y"/><label for="data_year" class="svelte-oyfk4y"> </label></div> <div><input name="d" type="radio" id="data_all" class="svelte-oyfk4y"/><label for="data_all" class="svelte-oyfk4y"> </label></div></form></div> <section class="live-status svelte-oyfk4y"><!></section>',1);function ha(L,Y){se(Y,!1);const f=[];let C=Q(!0);ue();const w=s.owner,$=s.repo;let i=Q([]),{apiBaseUrl:b,userContentBaseUrl:U}=s["status-website"]||{};b||(b="https://api.github.com"),U||(U="https://raw.githubusercontent.com");const q=`${U}/${w}/${$}/master/graphs`;let D=Q(null),a=Q("week");_e(async()=>{try{const p=await fetch(`${U}/${w}/${$}/master/history/summary.json`);y(i,await p.json())}catch(p){me(p)}y(C,!1),e(D)&&e(D).classList.remove("changed")});const v=()=>{e(D)&&(e(D).classList.add("changed"),setTimeout(()=>e(D).classList.remove("changed"),500))};re();var z=pa(),n=O(z),l=t(n),A=t(l,!0);r(l);var x=o(l,2),h=t(x),u=t(h);ve(u),u.value=u.__value="day";var B=o(u),d=t(B,!0);r(B),r(h);var j=o(h,2),M=t(j);ve(M),M.value=M.__value="week";var R=o(M),E=t(R,!0);r(R),r(j);var G=o(j,2),k=t(G);ve(k),k.value=k.__value="month";var W=o(k),V=t(W,!0);r(W),r(G);var H=o(G,2),N=t(H);ve(N),N.value=N.__value="year";var F=o(N),g=t(F,!0);r(F),r(H);var J=o(H,2),S=t(J);ve(S),S.value=S.__value="all";var K=o(S),X=t(K,!0);r(K),r(J),r(x),r(n),Ve(n,p=>y(D,p),()=>e(D));var ee=o(n,2),Be=t(ee);{var He=p=>{fe(p,{})},Ne=p=>{var De=ae(),Fe=O(De);{var Oe=he=>{var xe=ae(),Pe=O(xe);de(Pe,1,()=>e(i),ce,(Ye,I)=>{var ie=fa(),ge=t(ie),Se=t(ge),ye=o(Se,2),Ce=t(ye,!0);r(ye),r(ge);var we=o(ge,2),Te=t(we);Z(Te,()=>s.i18n.overallUptime.split("$UPTIME")[0]);var Le=o(Te,2),Me=t(Le),je=o(Me);Z(je,()=>s.i18n.overallUptime.split("$UPTIME")[1]),r(Le),r(we);var We=o(we,2);{var ze=$e=>{var be=ma(),Re=t(be);Z(Re,()=>s.i18n.averageResponseTime.split("$TIME")[0]);var Ee=o(Re,2),Ie=t(Ee),Ge=o(Ie);Z(Ge,()=>s.i18n.averageResponseTime.split("$TIME")[1]),r(Ee),r(be),P(()=>_(Ie,`${(e(a)==="day"?e(I).timeDay:e(a)==="week"?e(I).timeWeek:e(a)==="month"?e(I).timeMonth:e(a)==="year"?e(I).timeYear:e(I).time)??""} `)),c($e,be)};T(We,$e=>{(e(I).showAverageResponseTime===void 0||e(I).showAverageResponseTime)&&$e(ze)})}r(ie),P(()=>{ke(ie,1,`${e(I).status} link graph`,"svelte-oyfk4y"),Xe(ie,`--background: url('${`${q}/${e(I).slug}/response-time${e(a)==="day"?"-day":e(a)==="week"?"-week":e(a)==="month"?"-month":e(a)==="year"?"-year":""}.png`}')`),te(Se,"src",e(I).icon),te(ye,"href",`${s.path}/history/${e(I).slug}`),_(Ce,e(I).name),_(Me,`${(e(a)==="day"?e(I).uptimeDay:e(a)==="week"?e(I).uptimeWeek:e(a)==="month"?e(I).uptimeMonth:e(a)==="year"?e(I).uptimeYear:e(I).uptime)??""} `)}),c(Ye,ie)}),c(he,xe)};T(Fe,he=>{e(i).length&&he(Oe)},!0)}c(p,De)};T(Be,p=>{e(C)?p(He):p(Ne,!1)})}r(ee),P(()=>{_(A,s.i18n.liveStatus),_(d,s.i18n.duration24H),_(E,s.i18n.duration7D),_(V,s.i18n.duration30D),_(g,s.i18n.duration1Y),_(X,s.i18n.durationAll)}),ne(f,[],u,()=>e(a),p=>y(a,p)),le("change",u,v),ne(f,[],M,()=>e(a),p=>y(a,p)),le("change",M,v),ne(f,[],k,()=>e(a),p=>y(a,p)),le("change",k,v),ne(f,[],N,()=>e(a),p=>y(a,p)),le("change",N,v),ne(f,[],S,()=>e(a),p=>y(a,p)),le("change",S,v),c(L,z),oe()}var ga=m("<h3> </h3>"),ya=m('<!> <article class="link degraded"><div class="f"><div><h4> </h4> <div>Completed</div></div> <div class="f r"><a> </a></div></div></article>',1),wa=m('<h2 class="svelte-1s892aw"> </h2> <!>',1),$a=m("<section><!></section>");function ba(L,Y){se(Y,!1);let f=Q(!0);const C=ue(),w=s.owner,$=s.repo;let i=Q([]);_e(async()=>{try{y(i,(await pe(`maintenance-issues-${w}-${$}`,()=>C.issues.listForRepo({owner:w,repo:$,state:"closed",filter:"all",sort:"created",direction:"desc",labels:"maintenance"}))).data)}catch(a){me(a)}y(i,e(i).map((a,v)=>(a.showHeading=v===0||new Date(e(i)[v-1].created_at).toLocaleDateString()!==new Date(a.created_at).toLocaleDateString(),a))),y(f,!1)}),re();var b=$a(),U=t(b);{var q=a=>{fe(a,{})},D=a=>{var v=ae(),z=O(v);{var n=l=>{var A=wa(),x=O(A),h=t(x,!0);r(x);var u=o(x,2);de(u,1,()=>e(i),ce,(B,d)=>{var j=ya(),M=O(j);{var R=g=>{var J=ga(),S=t(J,!0);r(J),P(K=>_(S,K),[()=>new Date(e(d).created_at).toLocaleDateString(s.i18n.locale)]),c(g,J)};T(M,g=>{e(d).showHeading&&g(R)})}var E=o(M,2),G=t(E),k=t(G),W=t(k),V=t(W,!0);r(W),Je(2),r(k);var H=o(k,2),N=t(H),F=t(N,!0);r(N),r(H),r(G),r(E),P((g,J)=>{_(V,g),te(N,"href",`${s.path}/incident/${e(d).number}`),_(F,J)},[()=>e(d).title.replace("🛑","").replace("⚠️","").trim(),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(d).number)]),c(B,j)}),P(()=>_(h,s.i18n.pastScheduledMaintenance)),c(l,A)};T(z,l=>{e(i).length&&l(n)},!0)}c(a,v)};T(U,a=>{e(f)?a(q):a(D,!1)})}r(b),c(L,b),oe()}var ka=m("<h1><!></h1>"),Da=m('<p class="lead svelte-1hl5gt8"><!></p>'),xa=m("<!> <!>",1),Sa=m('<header class="svelte-1hl5gt8"><!></header> <!> <!> <!> <!> <!>',1);function Fa(L,Y){se(Y,!1);let f=Q("Status");try{y(f,s["status-website"].name)}catch{}re();var C=Sa();Qe(v=>{P(()=>qe.title=e(f))});var w=O(C),$=t(w);{var i=v=>{var z=xa(),n=O(z);{var l=h=>{var u=ka(),B=t(u);Z(B,()=>Ae(s["status-website"].introTitle)),r(u),c(h,u)};T(n,h=>{s["status-website"].introTitle&&h(l)})}var A=o(n,2);{var x=h=>{var u=Da(),B=t(u);Z(B,()=>Ae(s["status-website"].introMessage)),r(u),c(h,u)};T(A,h=>{s["status-website"].introMessage&&h(x)})}c(v,z)};T($,v=>{s["status-website"]&&v(i)})}r(w);var b=o(w,2);ra(b,{});var U=o(b,2);va(U,{});var q=o(U,2);ha(q,{});var D=o(q,2);ba(D,{});var a=o(D,2);ua(a,{}),c(L,C),oe()}export{Fa as component};
