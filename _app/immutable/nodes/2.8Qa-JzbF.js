import{t as p,a as u,s as c,e as le,g as qe,h as Ge}from"../chunks/DEszVtjC.js";import{i as te}from"../chunks/bWlMgHpd.js";import{h as Ee,p as re,f as K,b as se,y as w,ap as z,m as e,s as o,c as a,d as t,a as F,j as Z,aG as ze,$ as Je}from"../chunks/CmSReOwR.js";import{a as R}from"../chunks/CQmBJTmS.js";import{e as ne,i as de,h as X}from"../chunks/DzkLon9H.js";import{t as Ie}from"../chunks/BkBjuftV.js";import{c as s,s as ae,r as ie}from"../chunks/CHpALxM7.js";import{t as Ke,c as ce,a as pe,h as _e,L as ue,s as be}from"../chunks/BE0Pki3t.js";import{o as me}from"../chunks/LunpMwYL.js";import{a as ve}from"../chunks/k0eMYrzd.js";import{b as Qe}from"../chunks/C8oXdWWq.js";function Ve(L,O,f,P){var $=L.__style;if(Ee||$!==O){var b=Ke(O);(!Ee||b!==L.getAttribute("style"))&&(b==null?L.removeAttribute("style"):L.style.cssText=b),L.__style=O}return P}var Xe=p('<article class="up"> </article>'),Ze=p('<article><div class="f"><div><h4> </h4> <div> </div></div> <div class="f r"><a> </a></div></div></article>'),ea=p("<h2> </h2> <!>",1),aa=p('<!> <section class="svelte-1b6gx67"><!></section>',1);function ta(L,O){re(O,!1);let f=z(!0);const P=ce(),$=s.owner,b=s.repo;let i=z([]);me(async()=>{try{w(i,(await pe(`issues-${$}-${b}`,()=>P.issues.listForRepo({owner:$,repo:b,state:"open",filter:"all",sort:"created",direction:"desc",labels:"status"}))).data),w(i,e(i).map((l,d)=>(l.showHeading=d===0||new Date(e(i)[d-1].created_at).toLocaleDateString()!==new Date(l.created_at).toLocaleDateString(),l)))}catch(l){_e(l)}w(f,!1)}),te();var h=aa(),G=K(h);{var x=l=>{var d=Xe(),k=a(d);t(d),F(()=>c(k,`âœ… Â  ${s.i18n.allSystemsOperational}`)),u(l,d)};R(G,l=>{!e(i).length&&!e(f)&&l(x)})}var v=o(G,2),r=a(v);{var _=l=>{ue(l,{})},A=(l,d)=>{{var k=j=>{var m=ea(),D=K(m),n=a(D,!0);t(D);var Y=o(D,2);ne(Y,1,()=>e(i),de,(M,E)=>{var I=Ze(),W=a(I),S=a(W),C=a(S),Q=a(C,!0);t(C);var H=o(C,2),B=a(H,!0);t(H),t(S);var N=o(S,2),y=a(N),q=a(y,!0);t(y),t(N),t(W),t(I),F((T,J,V,ee)=>{be(I,1,`down down-active link ${T??""}`),c(Q,J),c(B,V),ae(y,"href",`${s.path}/incident/${e(E).number}`),c(q,ee)},[()=>e(E).title.includes("degraded")?"degraded":"",()=>e(E).title.replace("ðŸ›‘","").replace("âš ï¸","").trim(),()=>s.i18n.activeIncidentSummary.replace(/\$DATE/g,new Date(e(E).created_at).toLocaleString(s.i18n.locale)).replace(/\$POSTS/g,e(E).comments),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(E).number)],Z),u(M,I)}),F(()=>c(n,s.i18n.activeIncidents)),u(j,m)};R(l,j=>{e(i).length&&j(k)},d)}};R(r,l=>{e(f)?l(_):l(A,!1)})}t(v),u(L,h),se()}var ra=p("<div> </div>"),sa=p('<article class="degraded degraded-active link"><div class="f"><div><h4> </h4> <!></div> <div class="f r"><a> </a></div></div></article>'),oa=p("<h2> </h2> <!>",1),la=p('<section class="svelte-1b6gx67"><!></section>');function ia(L,O){re(O,!1);let f=z(!0);const P=ce(),$=s.owner,b=s.repo;let i=z([]);me(async()=>{try{w(i,(await pe(`scheduled-current-${$}-${b}`,()=>P.issues.listForRepo({owner:$,repo:b,state:"open",filter:"all",sort:"created",direction:"desc",labels:"maintenance"}))).data),w(i,e(i).map((r,_)=>(r.showHeading=_===0||new Date(e(i)[_-1].created_at).toLocaleDateString()!==new Date(r.created_at).toLocaleDateString(),r.metadata={},r.body.includes("<!--")&&r.body.split("<!--")[1].split("-->")[0].split(`
`).filter(d=>d.trim()).filter(d=>d.includes(":")).forEach(d=>{r.metadata[d.split(/:(.+)/)[0].trim()]=d.split(/:(.+)/)[1].trim()}),r)))}catch(r){_e(r)}w(f,!1)}),te();var h=la(),G=a(h);{var x=r=>{ue(r,{})},v=(r,_)=>{{var A=l=>{var d=oa(),k=K(d),j=a(k,!0);t(k);var m=o(k,2);ne(m,1,()=>e(i),de,(D,n)=>{var Y=sa(),M=a(Y),E=a(M),I=a(E),W=a(I,!0);t(I);var S=o(I,2);{var C=N=>{var y=ra(),q=a(y,!0);t(y),F(T=>c(q,T),[()=>(new Date(e(n).metadata.start).getTime()<new Date().getTime()?s.i18n.scheduledMaintenanceSummaryStarted:s.i18n.scheduledMaintenanceSummaryStarts).replace(/\$DATE/g,new Date(e(n).metadata.start).toLocaleString(s.i18n.locale)).replace(/\$DURATION/g,Math.floor((new Date(e(n).metadata.end).getTime()-new Date(e(n).metadata.start).getTime())/6e4))],Z),u(N,y)};R(S,N=>{e(n).metadata.start&&e(n).metadata.end&&N(C)})}t(E);var Q=o(E,2),H=a(Q),B=a(H,!0);t(H),t(Q),t(M),t(Y),F((N,y)=>{c(W,N),ae(H,"href",`${s.path}/incident/${e(n).number}`),c(B,y)},[()=>e(n).title.replace("ðŸ›‘","").replace("âš ï¸","").trim(),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(n).number)],Z),u(D,Y)}),F(()=>c(j,s.i18n.scheduledMaintenance)),u(l,d)};R(r,l=>{e(i).length&&l(A)},_)}};R(G,r=>{e(f)?r(x):r(v,!1)})}t(h),u(L,h),se()}var va=p("<h3> </h3>"),na=p('<!> <article><div class="f"><div><h4> </h4> <div><!></div></div> <div class="f r"><a> </a></div></div></article>',1),da=p('<h2 class="svelte-1s892aw"> </h2> <!>',1),ca=p("<section><!></section>");function _a(L,O){re(O,!1);let f=z(!0);const P=ce(),$=s.owner,b=s.repo;let i=z([]);me(async()=>{try{w(i,(await pe(`closed-issues-${$}-${b}`,()=>P.issues.listForRepo({owner:$,repo:b,state:"closed",filter:"all",sort:"created",direction:"desc",labels:"status"}))).data)}catch(r){_e(r)}w(i,e(i).map((r,_)=>(r.showHeading=_===0||new Date(e(i)[_-1].created_at).toLocaleDateString()!==new Date(r.created_at).toLocaleDateString(),r))),w(f,!1)}),te();var h=ca(),G=a(h);{var x=r=>{ue(r,{})},v=(r,_)=>{{var A=l=>{var d=da(),k=K(d),j=a(k,!0);t(k);var m=o(k,2);ne(m,1,()=>e(i),de,(D,n)=>{var Y=na(),M=K(Y);{var E=T=>{var J=va(),V=a(J,!0);t(J),F(ee=>c(V,ee),[()=>new Date(e(n).created_at).toLocaleDateString(s.i18n.locale)],Z),u(T,J)};R(M,T=>{e(n).showHeading&&T(E)})}var I=o(M,2),W=a(I),S=a(W),C=a(S),Q=a(C,!0);t(C);var H=o(C,2),B=a(H);X(B,()=>s.i18n.pastIncidentsResolved.replace(/\$MINUTES/g,((new Date(e(n).closed_at).getTime()-new Date(e(n).created_at).getTime())/6e4).toFixed(0)).replace(/\$POSTS/g,e(n).comments)),t(H),t(S);var N=o(S,2),y=a(N),q=a(y,!0);t(y),t(N),t(W),t(I),F((T,J,V)=>{be(I,1,`down link ${T??""}`),c(Q,J),ae(y,"href",`${s.path}/incident/${e(n).number}`),c(q,V)},[()=>e(n).title.includes("degraded")?"degraded":"",()=>e(n).title.replace("ðŸ›‘","").replace("âš ï¸","").trim(),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(n).number)],Z),u(D,Y)}),F(()=>c(j,s.i18n.pastIncidents)),u(l,d)};R(r,l=>{e(i).length&&l(A)},_)}};R(G,r=>{e(f)?r(x):r(v,!1)})}t(h),u(L,h),se()}var ua=p('<div><!> <span class="data svelte-oyfk4y"> <!></span></div>'),ma=p('<article><h4><img class="icon svelte-oyfk4y" alt=""> <a class="svelte-oyfk4y"> </a></h4> <div><!> <span class="data svelte-oyfk4y"> <!></span></div> <!></article>'),pa=p('<div class="f changed svelte-oyfk4y"><h2> </h2> <form class="f r svelte-oyfk4y"><div><input name="d" type="radio" id="data_day" class="svelte-oyfk4y"><label for="data_day" class="svelte-oyfk4y"> </label></div> <div><input name="d" type="radio" id="data_week" class="svelte-oyfk4y"><label for="data_week" class="svelte-oyfk4y"> </label></div> <div><input name="d" type="radio" id="data_month" class="svelte-oyfk4y"><label for="data_month" class="svelte-oyfk4y"> </label></div> <div><input name="d" type="radio" id="data_year" class="svelte-oyfk4y"><label for="data_year" class="svelte-oyfk4y"> </label></div> <div><input name="d" type="radio" id="data_all" class="svelte-oyfk4y"><label for="data_all" class="svelte-oyfk4y"> </label></div></form></div> <section class="live-status svelte-oyfk4y"><!></section>',1);function fa(L,O){re(O,!1);const f=[];let P=z(!0);ce();const $=s.owner,b=s.repo;let i=z([]),{userContentBaseUrl:h}=s["status-website"]||{};h||(h="https://raw.githubusercontent.com");const G=`${h}/${$}/${b}/master/graphs`;let x=z(null),v=z("week");me(async()=>{try{const g=await fetch(`${h}/${$}/${b}/master/history/summary.json`);w(i,await g.json())}catch(g){_e(g)}w(P,!1),e(x)&&e(x).classList.remove("changed")});const r=()=>{e(x)&&(e(x).classList.add("changed"),setTimeout(()=>e(x).classList.remove("changed"),500))};te();var _=pa(),A=K(_),l=a(A),d=a(l,!0);t(l);var k=o(l,2),j=a(k),m=a(j);ie(m),m.value=(m.__value="day")==null?"":"day";var D=o(m),n=a(D,!0);t(D),t(j);var Y=o(j,2),M=a(Y);ie(M),M.value=(M.__value="week")==null?"":"week";var E=o(M),I=a(E,!0);t(E),t(Y);var W=o(Y,2),S=a(W);ie(S),S.value=(S.__value="month")==null?"":"month";var C=o(S),Q=a(C,!0);t(C),t(W);var H=o(W,2),B=a(H);ie(B),B.value=(B.__value="year")==null?"":"year";var N=o(B),y=a(N,!0);t(N),t(H);var q=o(H,2),T=a(q);ie(T),T.value=(T.__value="all")==null?"":"all";var J=o(T),V=a(J,!0);t(J),t(q),t(k),t(A),Qe(A,g=>w(x,g),()=>e(x));var ee=o(A,2),Ue=a(ee);{var Ae=g=>{ue(g,{})},He=(g,Be)=>{{var Ne=fe=>{var ke=qe(),Fe=K(ke);ne(Fe,1,()=>e(i),de,(Oe,U)=>{var oe=ma(),he=a(oe),De=a(he),ge=o(De,2),Pe=a(ge,!0);t(ge),t(he);var ye=o(he,2),Se=a(ye);X(Se,()=>s.i18n.overallUptime.split("$UPTIME")[0]);var xe=o(Se,2),Te=a(xe),je=o(Te);X(je,()=>s.i18n.overallUptime.split("$UPTIME")[1]),t(xe),t(ye);var Ye=o(ye,2);{var Ce=we=>{var $e=ua(),Re=a($e);X(Re,()=>s.i18n.averageResponseTime.split("$TIME")[0]);var Le=o(Re,2),Me=a(Le),We=o(Me);X(We,()=>s.i18n.averageResponseTime.split("$TIME")[1]),t(Le),t($e),F(()=>c(Me,`${(e(v)==="day"?e(U).timeDay:e(v)==="week"?e(U).timeWeek:e(v)==="month"?e(U).timeMonth:e(v)==="year"?e(U).timeYear:e(U).time)??""} `)),u(we,$e)};R(Ye,we=>{(e(U).showAverageResponseTime===void 0||e(U).showAverageResponseTime)&&we(Ce)})}t(oe),F(()=>{be(oe,1,`${e(U).status} link graph`,"svelte-oyfk4y"),Ve(oe,`--background: url('${`${G}/${e(U).slug}/response-time${e(v)==="day"?"-day":e(v)==="week"?"-week":e(v)==="month"?"-month":e(v)==="year"?"-year":""}.png`??""}')`),ae(De,"src",e(U).icon),ae(ge,"href",`${s.path}/history/${e(U).slug}`),c(Pe,e(U).name),c(Te,`${(e(v)==="day"?e(U).uptimeDay:e(v)==="week"?e(U).uptimeWeek:e(v)==="month"?e(U).uptimeMonth:e(v)==="year"?e(U).uptimeYear:e(U).uptime)??""} `)}),u(Oe,oe)}),u(fe,ke)};R(g,fe=>{e(i).length&&fe(Ne)},Be)}};R(Ue,g=>{e(P)?g(Ae):g(He,!1)})}t(ee),F(()=>{c(d,s.i18n.liveStatus),c(n,s.i18n.duration24H),c(I,s.i18n.duration7D),c(Q,s.i18n.duration30D),c(y,s.i18n.duration1Y),c(V,s.i18n.durationAll)}),ve(f,[],m,()=>e(v),g=>w(v,g)),le("change",m,r),ve(f,[],M,()=>e(v),g=>w(v,g)),le("change",M,r),ve(f,[],S,()=>e(v),g=>w(v,g)),le("change",S,r),ve(f,[],B,()=>e(v),g=>w(v,g)),le("change",B,r),ve(f,[],T,()=>e(v),g=>w(v,g)),le("change",T,r),u(L,_),se()}var ha=p("<h3> </h3>"),ga=p('<!> <article class="link degraded"><div class="f"><div><h4> </h4> <div>Completed</div></div> <div class="f r"><a> </a></div></div></article>',1),ya=p('<h2 class="svelte-1s892aw"> </h2> <!>',1),wa=p("<section><!></section>");function $a(L,O){re(O,!1);let f=z(!0);const P=ce(),$=s.owner,b=s.repo;let i=z([]);me(async()=>{try{w(i,(await pe(`maintenance-issues-${$}-${b}`,()=>P.issues.listForRepo({owner:$,repo:b,state:"closed",filter:"all",sort:"created",direction:"desc",labels:"maintenance"}))).data)}catch(r){_e(r)}w(i,e(i).map((r,_)=>(r.showHeading=_===0||new Date(e(i)[_-1].created_at).toLocaleDateString()!==new Date(r.created_at).toLocaleDateString(),r))),w(f,!1)}),te();var h=wa(),G=a(h);{var x=r=>{ue(r,{})},v=(r,_)=>{{var A=l=>{var d=ya(),k=K(d),j=a(k,!0);t(k);var m=o(k,2);ne(m,1,()=>e(i),de,(D,n)=>{var Y=ga(),M=K(Y);{var E=y=>{var q=ha(),T=a(q,!0);t(q),F(J=>c(T,J),[()=>new Date(e(n).created_at).toLocaleDateString(s.i18n.locale)],Z),u(y,q)};R(M,y=>{e(n).showHeading&&y(E)})}var I=o(M,2),W=a(I),S=a(W),C=a(S),Q=a(C,!0);t(C),ze(2),t(S);var H=o(S,2),B=a(H),N=a(B,!0);t(B),t(H),t(W),t(I),F((y,q)=>{c(Q,y),ae(B,"href",`${s.path}/incident/${e(n).number}`),c(N,q)},[()=>e(n).title.replace("ðŸ›‘","").replace("âš ï¸","").trim(),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(n).number)],Z),u(D,Y)}),F(()=>c(j,s.i18n.pastScheduledMaintenance)),u(l,d)};R(r,l=>{e(i).length&&l(A)},_)}};R(G,r=>{e(f)?r(x):r(v,!1)})}t(h),u(L,h),se()}var ba=p("<h1><!></h1>"),ka=p('<p class="lead svelte-1hl5gt8"><!></p>'),Da=p("<!> <!>",1),Sa=p('<header class="svelte-1hl5gt8"><!></header> <!> <!> <!> <!> <!>',1);function Na(L,O){re(O,!1);let f=z("Status");try{w(f,s["status-website"].name)}catch{}te();var P=Sa();Ge(_=>{F(()=>Je.title=e(f))});var $=K(P),b=a($);{var i=_=>{var A=Da(),l=K(A);{var d=m=>{var D=ba(),n=a(D);X(n,()=>Ie(s["status-website"].introTitle)),t(D),u(m,D)};R(l,m=>{m(d)})}var k=o(l,2);{var j=m=>{var D=ka(),n=a(D);X(n,()=>Ie(s["status-website"].introMessage)),t(D),u(m,D)};R(k,m=>{m(j)})}u(_,A)};R(b,_=>{s["status-website"]&&_(i)})}t($);var h=o($,2);ta(h,{});var G=o(h,2);ia(G,{});var x=o(G,2);fa(x,{});var v=o(x,2);$a(v,{});var r=o(v,2);_a(r,{}),u(L,P),se()}export{Na as component};
