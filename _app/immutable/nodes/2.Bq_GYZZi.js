import"../chunks/CWj6FrbW.js";import{i as ae}from"../chunks/tOQI5rSH.js";import{h as Ie,o as te,v as m,x as Q,z as u,A as re,K as y,a0 as q,I as e,D as o,B as t,C as r,y as B,F as c,L as Z,aK as ie,aN as qe,aS as ze,w as Ge,$ as Je}from"../chunks/BoVP9MGj.js";import{i as M}from"../chunks/Cwd95KI-.js";import{e as ne,i as de,h as X}from"../chunks/ken_suun.js";import{t as Ue}from"../chunks/BkBjuftV.js";import{o as ce}from"../chunks/Dt8entXO.js";import{c as s,s as ee,r as le}from"../chunks/18MUTvT7.js";import{t as Qe,c as _e,a as pe,h as ue,L as me,s as be}from"../chunks/BSiSKTcf.js";import{a as ve}from"../chunks/BnUCed-f.js";import{b as Ve}from"../chunks/DXqGEs0o.js";function Xe(R,H,p,N){var w=R.__style;if(Ie||w!==H){var $=Qe(H);(!Ie||$!==R.getAttribute("style"))&&($==null?R.removeAttribute("style"):R.style.cssText=$),R.__style=H}return N}var Ze=m('<article class="up"> </article>'),ea=m('<article><div class="f"><div><h4> </h4> <div> </div></div> <div class="f r"><a> </a></div></div></article>'),aa=m("<h2> </h2> <!>",1),ta=m('<!> <section class="svelte-1b6gx67"><!></section>',1);function ra(R,H){te(H,!1);let p=q(!0);const N=_e(),w=s.owner,$=s.repo;let l=q([]);ce(async()=>{try{y(l,(await pe(`issues-${w}-${$}`,()=>N.issues.listForRepo({owner:w,repo:$,state:"open",filter:"all",sort:"created",direction:"desc",labels:"status"}))).data),y(l,e(l).map((i,n)=>(i.showHeading=n===0||new Date(e(l)[n-1].created_at).toLocaleDateString()!==new Date(i.created_at).toLocaleDateString(),i)))}catch(i){ue(i)}y(p,!1)}),ae();var b=ta(),U=Q(b);{var z=i=>{var n=Ze(),x=t(n);r(n),B(()=>c(x,`✅   ${s.i18n.allSystemsOperational??""}`)),u(i,n)};M(U,i=>{!e(l).length&&!e(p)&&i(z)})}var S=o(U,2),a=t(S);{var d=i=>{me(i,{})},F=(i,n)=>{{var x=O=>{var k=aa(),_=Q(k),v=t(_,!0);r(_);var j=o(_,2);ne(j,1,()=>e(l),de,(P,g)=>{var L=ea(),G=t(L),E=t(G),T=t(E),J=t(T,!0);r(T);var C=o(T,2),K=t(C,!0);r(C),r(E);var D=o(E,2),f=t(D),W=t(f,!0);r(f),r(D),r(G),r(L),B((Y,A,V,se)=>{be(L,1,`down down-active link ${Y??""}`),c(J,A),c(K,V),ee(f,"href",`${s.path}/incident/${e(g).number}`),c(W,se)},[()=>e(g).title.includes("degraded")?"degraded":"",()=>e(g).title.replace("🛑","").replace("⚠️","").trim(),()=>s.i18n.activeIncidentSummary.replace(/\$DATE/g,new Date(e(g).created_at).toLocaleString(s.i18n.locale)).replace(/\$POSTS/g,e(g).comments),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(g).number)],Z),u(P,L)}),B(()=>c(v,s.i18n.activeIncidents)),u(O,k)};M(i,O=>{e(l).length&&O(x)},n)}};M(a,i=>{e(p)?i(d):i(F,!1)})}r(S),u(R,b),re()}var sa=m("<div> </div>"),oa=m('<article class="degraded degraded-active link"><div class="f"><div><h4> </h4> <!></div> <div class="f r"><a> </a></div></div></article>'),ia=m("<h2> </h2> <!>",1),la=m('<section class="svelte-1b6gx67"><!></section>');function va(R,H){te(H,!1);let p=q(!0);const N=_e(),w=s.owner,$=s.repo;let l=q([]);ce(async()=>{try{y(l,(await pe(`scheduled-current-${w}-${$}`,()=>N.issues.listForRepo({owner:w,repo:$,state:"open",filter:"all",sort:"created",direction:"desc",labels:"maintenance"}))).data),y(l,e(l).map((a,d)=>(a.showHeading=d===0||new Date(e(l)[d-1].created_at).toLocaleDateString()!==new Date(a.created_at).toLocaleDateString(),a.metadata={},a.body.includes("<!--")&&a.body.split("<!--")[1].split("-->")[0].split(`
`).filter(n=>n.trim()).filter(n=>n.includes(":")).forEach(n=>{a.metadata[n.split(/:(.+)/)[0].trim()]=n.split(/:(.+)/)[1].trim()}),a)))}catch(a){ue(a)}y(p,!1)}),ae();var b=la(),U=t(b);{var z=a=>{me(a,{})},S=(a,d)=>{{var F=i=>{var n=ia(),x=Q(n),O=t(x,!0);r(x);var k=o(x,2);ne(k,1,()=>e(l),de,(_,v)=>{var j=oa(),P=t(j),g=t(P),L=t(g),G=t(L,!0);r(L);var E=o(L,2);{var T=D=>{var f=sa(),W=t(f,!0);r(f),B(Y=>c(W,Y),[()=>(new Date(e(v).metadata.start).getTime()<new Date().getTime()?s.i18n.scheduledMaintenanceSummaryStarted:s.i18n.scheduledMaintenanceSummaryStarts).replace(/\$DATE/g,new Date(e(v).metadata.start).toLocaleString(s.i18n.locale)).replace(/\$DURATION/g,Math.floor((new Date(e(v).metadata.end).getTime()-new Date(e(v).metadata.start).getTime())/6e4))],Z),u(D,f)};M(E,D=>{e(v).metadata.start&&e(v).metadata.end&&D(T)})}r(g);var J=o(g,2),C=t(J),K=t(C,!0);r(C),r(J),r(P),r(j),B((D,f)=>{c(G,D),ee(C,"href",`${s.path}/incident/${e(v).number}`),c(K,f)},[()=>e(v).title.replace("🛑","").replace("⚠️","").trim(),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(v).number)],Z),u(_,j)}),B(()=>c(O,s.i18n.scheduledMaintenance)),u(i,n)};M(a,i=>{e(l).length&&i(F)},d)}};M(U,a=>{e(p)?a(z):a(S,!1)})}r(b),u(R,b),re()}var na=m("<h3> </h3>"),da=m('<!> <article><div class="f"><div><h4> </h4> <div><!></div></div> <div class="f r"><a> </a></div></div></article>',1),ca=m('<h2 class="svelte-1s892aw"> </h2> <!>',1),_a=m("<section><!></section>");function ua(R,H){te(H,!1);let p=q(!0);const N=_e(),w=s.owner,$=s.repo;let l=q([]);ce(async()=>{try{y(l,(await pe(`closed-issues-${w}-${$}`,()=>N.issues.listForRepo({owner:w,repo:$,state:"closed",filter:"all",sort:"created",direction:"desc",labels:"status"}))).data)}catch(a){ue(a)}y(l,e(l).map((a,d)=>(a.showHeading=d===0||new Date(e(l)[d-1].created_at).toLocaleDateString()!==new Date(a.created_at).toLocaleDateString(),a))),y(p,!1)}),ae();var b=_a(),U=t(b);{var z=a=>{me(a,{})},S=(a,d)=>{{var F=i=>{var n=ca(),x=Q(n),O=t(x,!0);r(x);var k=o(x,2);ne(k,1,()=>e(l),de,(_,v)=>{var j=da(),P=Q(j);{var g=Y=>{var A=na(),V=t(A,!0);r(A),B(se=>c(V,se),[()=>new Date(e(v).created_at).toLocaleDateString(s.i18n.locale)],Z),u(Y,A)};M(P,Y=>{e(v).showHeading&&Y(g)})}var L=o(P,2),G=t(L),E=t(G),T=t(E),J=t(T,!0);r(T);var C=o(T,2),K=t(C);X(K,()=>s.i18n.pastIncidentsResolved.replace(/\$MINUTES/g,((new Date(e(v).closed_at).getTime()-new Date(e(v).created_at).getTime())/6e4).toFixed(0)).replace(/\$POSTS/g,e(v).comments)),r(C),r(E);var D=o(E,2),f=t(D),W=t(f,!0);r(f),r(D),r(G),r(L),B((Y,A,V)=>{be(L,1,`down link ${Y??""}`),c(J,A),ee(f,"href",`${s.path}/incident/${e(v).number}`),c(W,V)},[()=>e(v).title.includes("degraded")?"degraded":"",()=>e(v).title.replace("🛑","").replace("⚠️","").trim(),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(v).number)],Z),u(_,j)}),B(()=>c(O,s.i18n.pastIncidents)),u(i,n)};M(a,i=>{e(l).length&&i(F)},d)}};M(U,a=>{e(p)?a(z):a(S,!1)})}r(b),u(R,b),re()}var ma=m('<div><!> <span class="data svelte-oyfk4y"> <!></span></div>'),pa=m('<article><h4><img class="icon svelte-oyfk4y" alt=""/> <a class="svelte-oyfk4y"> </a></h4> <div><!> <span class="data svelte-oyfk4y"> <!></span></div> <!></article>'),fa=m('<div class="f changed svelte-oyfk4y"><h2> </h2> <form class="f r svelte-oyfk4y"><div><input name="d" type="radio" id="data_day" class="svelte-oyfk4y"/><label for="data_day" class="svelte-oyfk4y"> </label></div> <div><input name="d" type="radio" id="data_week" class="svelte-oyfk4y"/><label for="data_week" class="svelte-oyfk4y"> </label></div> <div><input name="d" type="radio" id="data_month" class="svelte-oyfk4y"/><label for="data_month" class="svelte-oyfk4y"> </label></div> <div><input name="d" type="radio" id="data_year" class="svelte-oyfk4y"/><label for="data_year" class="svelte-oyfk4y"> </label></div> <div><input name="d" type="radio" id="data_all" class="svelte-oyfk4y"/><label for="data_all" class="svelte-oyfk4y"> </label></div></form></div> <section class="live-status svelte-oyfk4y"><!></section>',1);function ha(R,H){te(H,!1);const p=[];let N=q(!0);_e();const w=s.owner,$=s.repo;let l=q([]),{apiBaseUrl:b,userContentBaseUrl:U}=s["status-website"]||{};b||(b="https://api.github.com"),U||(U="https://raw.githubusercontent.com");const z=`${U}/${w}/${$}/master/graphs`;let S=q(null),a=q("week");ce(async()=>{try{const h=await fetch(`${U}/${w}/${$}/master/history/summary.json`);y(l,await h.json())}catch(h){ue(h)}y(N,!1),e(S)&&e(S).classList.remove("changed")});const d=()=>{e(S)&&(e(S).classList.add("changed"),setTimeout(()=>e(S).classList.remove("changed"),500))};ae();var F=fa(),i=Q(F),n=t(i),x=t(n,!0);r(n);var O=o(n,2),k=t(O),_=t(k);le(_),_.value=_.__value="day";var v=o(_),j=t(v,!0);r(v),r(k);var P=o(k,2),g=t(P);le(g),g.value=g.__value="week";var L=o(g),G=t(L,!0);r(L),r(P);var E=o(P,2),T=t(E);le(T),T.value=T.__value="month";var J=o(T),C=t(J,!0);r(J),r(E);var K=o(E,2),D=t(K);le(D),D.value=D.__value="year";var f=o(D),W=t(f,!0);r(f),r(K);var Y=o(K,2),A=t(Y);le(A),A.value=A.__value="all";var V=o(A),se=t(V,!0);r(V),r(Y),r(O),r(i),Ve(i,h=>y(S,h),()=>e(S));var ke=o(i,2),Ae=t(ke);{var Be=h=>{me(h,{})},He=(h,Ne)=>{{var Fe=fe=>{var De=qe(),Oe=Q(De);ne(Oe,1,()=>e(l),de,(Pe,I)=>{var oe=pa(),he=t(oe),Se=t(he),ge=o(Se,2),Ce=t(ge,!0);r(ge),r(he);var ye=o(he,2),xe=t(ye);X(xe,()=>s.i18n.overallUptime.split("$UPTIME")[0]);var Te=o(xe,2),Le=t(Te),Ye=o(Le);X(Ye,()=>s.i18n.overallUptime.split("$UPTIME")[1]),r(Te),r(ye);var je=o(ye,2);{var Ke=we=>{var $e=ma(),Me=t($e);X(Me,()=>s.i18n.averageResponseTime.split("$TIME")[0]);var Re=o(Me,2),Ee=t(Re),We=o(Ee);X(We,()=>s.i18n.averageResponseTime.split("$TIME")[1]),r(Re),r($e),B(()=>c(Ee,`${(e(a)==="day"?e(I).timeDay:e(a)==="week"?e(I).timeWeek:e(a)==="month"?e(I).timeMonth:e(a)==="year"?e(I).timeYear:e(I).time)??""} `)),u(we,$e)};M(je,we=>{(e(I).showAverageResponseTime===void 0||e(I).showAverageResponseTime)&&we(Ke)})}r(oe),B(()=>{be(oe,1,`${e(I).status} link graph`,"svelte-oyfk4y"),Xe(oe,`--background: url('${`${z}/${e(I).slug}/response-time${e(a)==="day"?"-day":e(a)==="week"?"-week":e(a)==="month"?"-month":e(a)==="year"?"-year":""}.png`}')`),ee(Se,"src",e(I).icon),ee(ge,"href",`${s.path}/history/${e(I).slug}`),c(Ce,e(I).name),c(Le,`${(e(a)==="day"?e(I).uptimeDay:e(a)==="week"?e(I).uptimeWeek:e(a)==="month"?e(I).uptimeMonth:e(a)==="year"?e(I).uptimeYear:e(I).uptime)??""} `)}),u(Pe,oe)}),u(fe,De)};M(h,fe=>{e(l).length&&fe(Fe)},Ne)}};M(Ae,h=>{e(N)?h(Be):h(He,!1)})}r(ke),B(()=>{c(x,s.i18n.liveStatus),c(j,s.i18n.duration24H),c(G,s.i18n.duration7D),c(C,s.i18n.duration30D),c(W,s.i18n.duration1Y),c(se,s.i18n.durationAll)}),ve(p,[],_,()=>e(a),h=>y(a,h)),ie("change",_,d),ve(p,[],g,()=>e(a),h=>y(a,h)),ie("change",g,d),ve(p,[],T,()=>e(a),h=>y(a,h)),ie("change",T,d),ve(p,[],D,()=>e(a),h=>y(a,h)),ie("change",D,d),ve(p,[],A,()=>e(a),h=>y(a,h)),ie("change",A,d),u(R,F),re()}var ga=m("<h3> </h3>"),ya=m('<!> <article class="link degraded"><div class="f"><div><h4> </h4> <div>Completed</div></div> <div class="f r"><a> </a></div></div></article>',1),wa=m('<h2 class="svelte-1s892aw"> </h2> <!>',1),$a=m("<section><!></section>");function ba(R,H){te(H,!1);let p=q(!0);const N=_e(),w=s.owner,$=s.repo;let l=q([]);ce(async()=>{try{y(l,(await pe(`maintenance-issues-${w}-${$}`,()=>N.issues.listForRepo({owner:w,repo:$,state:"closed",filter:"all",sort:"created",direction:"desc",labels:"maintenance"}))).data)}catch(a){ue(a)}y(l,e(l).map((a,d)=>(a.showHeading=d===0||new Date(e(l)[d-1].created_at).toLocaleDateString()!==new Date(a.created_at).toLocaleDateString(),a))),y(p,!1)}),ae();var b=$a(),U=t(b);{var z=a=>{me(a,{})},S=(a,d)=>{{var F=i=>{var n=wa(),x=Q(n),O=t(x,!0);r(x);var k=o(x,2);ne(k,1,()=>e(l),de,(_,v)=>{var j=ya(),P=Q(j);{var g=f=>{var W=ga(),Y=t(W,!0);r(W),B(A=>c(Y,A),[()=>new Date(e(v).created_at).toLocaleDateString(s.i18n.locale)],Z),u(f,W)};M(P,f=>{e(v).showHeading&&f(g)})}var L=o(P,2),G=t(L),E=t(G),T=t(E),J=t(T,!0);r(T),ze(2),r(E);var C=o(E,2),K=t(C),D=t(K,!0);r(K),r(C),r(G),r(L),B((f,W)=>{c(J,f),ee(K,"href",`${s.path}/incident/${e(v).number}`),c(D,W)},[()=>e(v).title.replace("🛑","").replace("⚠️","").trim(),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(v).number)],Z),u(_,j)}),B(()=>c(O,s.i18n.pastScheduledMaintenance)),u(i,n)};M(a,i=>{e(l).length&&i(F)},d)}};M(U,a=>{e(p)?a(z):a(S,!1)})}r(b),u(R,b),re()}var ka=m("<h1><!></h1>"),Da=m('<p class="lead svelte-1hl5gt8"><!></p>'),Sa=m("<!> <!>",1),xa=m('<header class="svelte-1hl5gt8"><!></header> <!> <!> <!> <!> <!>',1);function Fa(R,H){te(H,!1);let p=q("Status");try{y(p,s["status-website"].name)}catch{}ae();var N=xa();Ge(d=>{B(()=>Je.title=e(p))});var w=Q(N),$=t(w);{var l=d=>{var F=Sa(),i=Q(F);{var n=k=>{var _=ka(),v=t(_);X(v,()=>Ue(s["status-website"].introTitle)),r(_),u(k,_)};M(i,k=>{s["status-website"].introTitle&&k(n)})}var x=o(i,2);{var O=k=>{var _=Da(),v=t(_);X(v,()=>Ue(s["status-website"].introMessage)),r(_),u(k,_)};M(x,k=>{s["status-website"].introMessage&&k(O)})}u(d,F)};M($,d=>{s["status-website"]&&d(l)})}r(w);var b=o(w,2);ra(b,{});var U=o(b,2);va(U,{});var z=o(U,2);ha(z,{});var S=o(z,2);ba(S,{});var a=o(S,2);ua(a,{}),u(R,N),re()}export{Fa as component};
