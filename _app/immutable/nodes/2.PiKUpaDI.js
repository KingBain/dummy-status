import"../chunks/Bzak7iHL.js";import{i as re}from"../chunks/Dx99fecm.js";import{h as Ie,x as se,y as m,A as F,C as c,D as oe,N as w,a6 as J,L as e,I as o,F as t,G as r,B as O,J as _,aS as ae,aP as ie,aX as Ge,z as Je,$ as Xe}from"../chunks/BzSC0BI-.js";import{i as k}from"../chunks/BtaQu_9e.js";import{e as de,i as ce,h as Z}from"../chunks/1PZNlK7O.js";import{t as Ue}from"../chunks/BkBjuftV.js";import{o as _e}from"../chunks/DmAwoaoP.js";import{c as s,s as te,r as le}from"../chunks/CB_9qAnA.js";import{t as Ke,c as ue,a as he,h as me,L as pe,s as De}from"../chunks/DwfVyuxF.js";import{a as ne}from"../chunks/BAuQtv2m.js";import{b as Qe}from"../chunks/CvX2LWBA.js";function Ve(q,P,p,z){var $=q.__style;if(Ie||$!==P){var b=Ke(P);(!Ie||b!==q.getAttribute("style"))&&(b==null?q.removeAttribute("style"):q.style.cssText=b),q.__style=P}return z}var Ze=m('<article class="up"> </article>'),ea=m('<article><div class="f"><div><h4> </h4> <div> </div></div> <div class="f r"><a> </a></div></div></article>'),aa=m("<h2> </h2> <!>",1),ta=m('<!> <section class="svelte-1t2ezhh"><!></section>',1);function ra(q,P){se(P,!1);let p=J(!0);const z=ue(),$=s.owner,b=s.repo;let v=J([]);_e(async()=>{try{w(v,(await he(`issues-${$}-${b}`,()=>z.issues.listForRepo({owner:$,repo:b,state:"open",filter:"all",sort:"created",direction:"desc",labels:"status"}))).data),w(v,e(v).map((n,i)=>(n.showHeading=i===0||new Date(e(v)[i-1].created_at).toLocaleDateString()!==new Date(n.created_at).toLocaleDateString(),n)))}catch(n){me(n)}w(p,!1)}),re();var y=ta(),I=F(y);{var X=n=>{var i=Ze(),U=t(i);r(i),O(()=>_(U,`✅   ${s.i18n.allSystemsOperational??""}`)),c(n,i)};k(I,n=>{!e(v).length&&!e(p)&&n(X)})}var S=o(I,2),a=t(S);{var l=n=>{pe(n,{})},Y=n=>{var i=ae(),U=F(i);{var x=f=>{var u=aa(),A=F(u),d=t(A,!0);r(A);var j=o(A,2);de(j,1,()=>e(v),ce,(L,M)=>{var R=ea(),W=t(R),D=t(W),C=t(D),Q=t(C,!0);r(C);var B=o(C,2),H=t(B,!0);r(B),r(D);var N=o(D,2),g=t(N),G=t(g,!0);r(g),r(N),r(W),r(R),O((T,K,V,ee)=>{De(R,1,`down down-active link ${T??""}`),_(Q,K),_(H,V),te(g,"href",`${s.path}/incident/${e(M).number}`),_(G,ee)},[()=>e(M).title.includes("degraded")?"degraded":"",()=>e(M).title.replace("🛑","").replace("⚠️","").trim(),()=>s.i18n.activeIncidentSummary.replace(/\$DATE/g,new Date(e(M).created_at).toLocaleString(s.i18n.locale)).replace(/\$POSTS/g,e(M).comments),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(M).number)]),c(L,R)}),O(()=>_(d,s.i18n.activeIncidents)),c(f,u)};k(U,f=>{e(v).length&&f(x)},!0)}c(n,i)};k(a,n=>{e(p)?n(l):n(Y,!1)})}r(S),c(q,y),oe()}var sa=m("<div> </div>"),oa=m('<article class="degraded degraded-active link"><div class="f"><div><h4> </h4> <!></div> <div class="f r"><a> </a></div></div></article>'),va=m("<h2> </h2> <!>",1),ia=m('<section class="svelte-1fbujbl"><!></section>');function la(q,P){se(P,!1);let p=J(!0);const z=ue(),$=s.owner,b=s.repo;let v=J([]);_e(async()=>{try{w(v,(await he(`scheduled-current-${$}-${b}`,()=>z.issues.listForRepo({owner:$,repo:b,state:"open",filter:"all",sort:"created",direction:"desc",labels:"maintenance"}))).data),w(v,e(v).map((a,l)=>(a.showHeading=l===0||new Date(e(v)[l-1].created_at).toLocaleDateString()!==new Date(a.created_at).toLocaleDateString(),a.metadata={},a.body.includes("<!--")&&a.body.split("<!--")[1].split("-->")[0].split(`
`).filter(i=>i.trim()).filter(i=>i.includes(":")).forEach(i=>{a.metadata[i.split(/:(.+)/)[0].trim()]=i.split(/:(.+)/)[1].trim()}),a)))}catch(a){me(a)}w(p,!1)}),re();var y=ia(),I=t(y);{var X=a=>{pe(a,{})},S=a=>{var l=ae(),Y=F(l);{var n=i=>{var U=va(),x=F(U),f=t(x,!0);r(x);var u=o(x,2);de(u,1,()=>e(v),ce,(A,d)=>{var j=oa(),L=t(j),M=t(L),R=t(M),W=t(R,!0);r(R);var D=o(R,2);{var C=N=>{var g=sa(),G=t(g,!0);r(g),O(T=>_(G,T),[()=>(new Date(e(d).metadata.start).getTime()<new Date().getTime()?s.i18n.scheduledMaintenanceSummaryStarted:s.i18n.scheduledMaintenanceSummaryStarts).replace(/\$DATE/g,new Date(e(d).metadata.start).toLocaleString(s.i18n.locale)).replace(/\$DURATION/g,Math.floor((new Date(e(d).metadata.end).getTime()-new Date(e(d).metadata.start).getTime())/6e4))]),c(N,g)};k(D,N=>{e(d).metadata.start&&e(d).metadata.end&&N(C)})}r(M);var Q=o(M,2),B=t(Q),H=t(B,!0);r(B),r(Q),r(L),r(j),O((N,g)=>{_(W,N),te(B,"href",`${s.path}/incident/${e(d).number}`),_(H,g)},[()=>e(d).title.replace("🛑","").replace("⚠️","").trim(),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(d).number)]),c(A,j)}),O(()=>_(f,s.i18n.scheduledMaintenance)),c(i,U)};k(Y,i=>{e(v).length&&i(n)},!0)}c(a,l)};k(I,a=>{e(p)?a(X):a(S,!1)})}r(y),c(q,y),oe()}var na=m("<h3> </h3>"),da=m('<!> <article><div class="f"><div><h4> </h4> <div><!></div></div> <div class="f r"><a> </a></div></div></article>',1),ca=m('<h2 class="svelte-12muw8b"> </h2> <!>',1),_a=m("<section><!></section>");function ua(q,P){se(P,!1);let p=J(!0);const z=ue(),$=s.owner,b=s.repo;let v=J([]);_e(async()=>{try{w(v,(await he(`closed-issues-${$}-${b}`,()=>z.issues.listForRepo({owner:$,repo:b,state:"closed",filter:"all",sort:"created",direction:"desc",labels:"status"}))).data)}catch(a){me(a)}w(v,e(v).map((a,l)=>(a.showHeading=l===0||new Date(e(v)[l-1].created_at).toLocaleDateString()!==new Date(a.created_at).toLocaleDateString(),a))),w(p,!1)}),re();var y=_a(),I=t(y);{var X=a=>{pe(a,{})},S=a=>{var l=ae(),Y=F(l);{var n=i=>{var U=ca(),x=F(U),f=t(x,!0);r(x);var u=o(x,2);de(u,1,()=>e(v),ce,(A,d)=>{var j=da(),L=F(j);{var M=T=>{var K=na(),V=t(K,!0);r(K),O(ee=>_(V,ee),[()=>new Date(e(d).created_at).toLocaleDateString(s.i18n.locale)]),c(T,K)};k(L,T=>{e(d).showHeading&&T(M)})}var R=o(L,2),W=t(R),D=t(W),C=t(D),Q=t(C,!0);r(C);var B=o(C,2),H=t(B);Z(H,()=>s.i18n.pastIncidentsResolved.replace(/\$MINUTES/g,((new Date(e(d).closed_at).getTime()-new Date(e(d).created_at).getTime())/6e4).toFixed(0)).replace(/\$POSTS/g,e(d).comments)),r(B),r(D);var N=o(D,2),g=t(N),G=t(g,!0);r(g),r(N),r(W),r(R),O((T,K,V)=>{De(R,1,`down link ${T??""}`),_(Q,K),te(g,"href",`${s.path}/incident/${e(d).number}`),_(G,V)},[()=>e(d).title.includes("degraded")?"degraded":"",()=>e(d).title.replace("🛑","").replace("⚠️","").trim(),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(d).number)]),c(A,j)}),O(()=>_(f,s.i18n.pastIncidents)),c(i,U)};k(Y,i=>{e(v).length&&i(n)},!0)}c(a,l)};k(I,a=>{e(p)?a(X):a(S,!1)})}r(y),c(q,y),oe()}var ma=m('<div><!> <span class="data svelte-oqs5vs"> <!></span></div>'),pa=m('<article><h4><img class="icon svelte-oqs5vs" alt=""/> <a class="svelte-oqs5vs"> </a></h4> <div><!> <span class="data svelte-oqs5vs"> <!></span></div> <!></article>'),ha=m('<div class="f changed svelte-oqs5vs"><h2> </h2> <form class="f r svelte-oqs5vs"><div><input name="d" type="radio" id="data_day" class="svelte-oqs5vs"/><label for="data_day" class="svelte-oqs5vs"> </label></div> <div><input name="d" type="radio" id="data_week" class="svelte-oqs5vs"/><label for="data_week" class="svelte-oqs5vs"> </label></div> <div><input name="d" type="radio" id="data_month" class="svelte-oqs5vs"/><label for="data_month" class="svelte-oqs5vs"> </label></div> <div><input name="d" type="radio" id="data_year" class="svelte-oqs5vs"/><label for="data_year" class="svelte-oqs5vs"> </label></div> <div><input name="d" type="radio" id="data_all" class="svelte-oqs5vs"/><label for="data_all" class="svelte-oqs5vs"> </label></div></form></div> <section class="live-status svelte-oqs5vs"><!></section>',1);function fa(q,P){se(P,!1);const p=[];let z=J(!0);ue();const $=s.owner,b=s.repo;let v=J([]),{apiBaseUrl:y,userContentBaseUrl:I}=s["status-website"]||{};y||(y="https://api.github.com"),I||(I="https://raw.githubusercontent.com");const X=`${I}/${$}/${b}/master/graphs`;let S=J(null),a=J("week");_e(async()=>{try{const h=await fetch(`${I}/${$}/${b}/master/history/summary.json`);w(v,await h.json())}catch(h){me(h)}w(z,!1),e(S)&&e(S).classList.remove("changed")});const l=()=>{e(S)&&(e(S).classList.add("changed"),setTimeout(()=>e(S).classList.remove("changed"),500))};re();var Y=ha(),n=F(Y),i=t(n),U=t(i,!0);r(i);var x=o(i,2),f=t(x),u=t(f);le(u),u.value=u.__value="day";var A=o(u),d=t(A,!0);r(A),r(f);var j=o(f,2),L=t(j);le(L),L.value=L.__value="week";var M=o(L),R=t(M,!0);r(M),r(j);var W=o(j,2),D=t(W);le(D),D.value=D.__value="month";var C=o(D),Q=t(C,!0);r(C),r(W);var B=o(W,2),H=t(B);le(H),H.value=H.__value="year";var N=o(H),g=t(N,!0);r(N),r(B);var G=o(B,2),T=t(G);le(T),T.value=T.__value="all";var K=o(T),V=t(K,!0);r(K),r(G),r(x),r(n),Qe(n,h=>w(S,h),()=>e(S));var ee=o(n,2),Ae=t(ee);{var Be=h=>{pe(h,{})},He=h=>{var Se=ae(),Ne=F(Se);{var Fe=fe=>{var xe=ae(),Oe=F(xe);de(Oe,1,()=>e(v),ce,(Pe,E)=>{var ve=pa(),ge=t(ve),Te=t(ge),we=o(Te,2),ze=t(we,!0);r(we),r(ge);var $e=o(ge,2),ke=t($e);Z(ke,()=>s.i18n.overallUptime.split("$UPTIME")[0]);var qe=o(ke,2),Le=t(qe),je=o(Le);Z(je,()=>s.i18n.overallUptime.split("$UPTIME")[1]),r(qe),r($e);var Ce=o($e,2);{var Ye=be=>{var ye=ma(),Me=t(ye);Z(Me,()=>s.i18n.averageResponseTime.split("$TIME")[0]);var Re=o(Me,2),Ee=t(Re),We=o(Ee);Z(We,()=>s.i18n.averageResponseTime.split("$TIME")[1]),r(Re),r(ye),O(()=>_(Ee,`${(e(a)==="day"?e(E).timeDay:e(a)==="week"?e(E).timeWeek:e(a)==="month"?e(E).timeMonth:e(a)==="year"?e(E).timeYear:e(E).time)??""} `)),c(be,ye)};k(Ce,be=>{(e(E).showAverageResponseTime===void 0||e(E).showAverageResponseTime)&&be(Ye)})}r(ve),O(()=>{De(ve,1,`${e(E).status} link graph`,"svelte-oqs5vs"),Ve(ve,`--background: url('${`${X}/${e(E).slug}/response-time${e(a)==="day"?"-day":e(a)==="week"?"-week":e(a)==="month"?"-month":e(a)==="year"?"-year":""}.png`}')`),te(Te,"src",e(E).icon),te(we,"href",`${s.path}/history/${e(E).slug}`),_(ze,e(E).name),_(Le,`${(e(a)==="day"?e(E).uptimeDay:e(a)==="week"?e(E).uptimeWeek:e(a)==="month"?e(E).uptimeMonth:e(a)==="year"?e(E).uptimeYear:e(E).uptime)??""} `)}),c(Pe,ve)}),c(fe,xe)};k(Ne,fe=>{e(v).length&&fe(Fe)},!0)}c(h,Se)};k(Ae,h=>{e(z)?h(Be):h(He,!1)})}r(ee),O(()=>{_(U,s.i18n.liveStatus),_(d,s.i18n.duration24H),_(R,s.i18n.duration7D),_(Q,s.i18n.duration30D),_(g,s.i18n.duration1Y),_(V,s.i18n.durationAll)}),ne(p,[],u,()=>e(a),h=>w(a,h)),ie("change",u,l),ne(p,[],L,()=>e(a),h=>w(a,h)),ie("change",L,l),ne(p,[],D,()=>e(a),h=>w(a,h)),ie("change",D,l),ne(p,[],H,()=>e(a),h=>w(a,h)),ie("change",H,l),ne(p,[],T,()=>e(a),h=>w(a,h)),ie("change",T,l),c(q,Y),oe()}var ga=m("<h3> </h3>"),wa=m('<!> <article class="link degraded"><div class="f"><div><h4> </h4> <div>Completed</div></div> <div class="f r"><a> </a></div></div></article>',1),$a=m('<h2 class="svelte-asq9zz"> </h2> <!>',1),ba=m("<section><!></section>");function ya(q,P){se(P,!1);let p=J(!0);const z=ue(),$=s.owner,b=s.repo;let v=J([]);_e(async()=>{try{w(v,(await he(`maintenance-issues-${$}-${b}`,()=>z.issues.listForRepo({owner:$,repo:b,state:"closed",filter:"all",sort:"created",direction:"desc",labels:"maintenance"}))).data)}catch(a){me(a)}w(v,e(v).map((a,l)=>(a.showHeading=l===0||new Date(e(v)[l-1].created_at).toLocaleDateString()!==new Date(a.created_at).toLocaleDateString(),a))),w(p,!1)}),re();var y=ba(),I=t(y);{var X=a=>{pe(a,{})},S=a=>{var l=ae(),Y=F(l);{var n=i=>{var U=$a(),x=F(U),f=t(x,!0);r(x);var u=o(x,2);de(u,1,()=>e(v),ce,(A,d)=>{var j=wa(),L=F(j);{var M=g=>{var G=ga(),T=t(G,!0);r(G),O(K=>_(T,K),[()=>new Date(e(d).created_at).toLocaleDateString(s.i18n.locale)]),c(g,G)};k(L,g=>{e(d).showHeading&&g(M)})}var R=o(L,2),W=t(R),D=t(W),C=t(D),Q=t(C,!0);r(C),Ge(2),r(D);var B=o(D,2),H=t(B),N=t(H,!0);r(H),r(B),r(W),r(R),O((g,G)=>{_(Q,g),te(H,"href",`${s.path}/incident/${e(d).number}`),_(N,G)},[()=>e(d).title.replace("🛑","").replace("⚠️","").trim(),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(d).number)]),c(A,j)}),O(()=>_(f,s.i18n.pastScheduledMaintenance)),c(i,U)};k(Y,i=>{e(v).length&&i(n)},!0)}c(a,l)};k(I,a=>{e(p)?a(X):a(S,!1)})}r(y),c(q,y),oe()}var Da=m("<h1><!></h1>"),Sa=m('<p class="lead svelte-1uha8ag"><!></p>'),xa=m("<!> <!>",1),Ta=m('<header class="svelte-1uha8ag"><!></header> <!> <!> <!> <!> <!>',1);function Na(q,P){se(P,!1);let p=J("Status");try{w(p,s["status-website"].name)}catch{}re();var z=Ta();Je(l=>{O(()=>Xe.title=e(p))});var $=F(z),b=t($);{var v=l=>{var Y=xa(),n=F(Y);{var i=f=>{var u=Da(),A=t(u);Z(A,()=>Ue(s["status-website"].introTitle)),r(u),c(f,u)};k(n,f=>{s["status-website"].introTitle&&f(i)})}var U=o(n,2);{var x=f=>{var u=Sa(),A=t(u);Z(A,()=>Ue(s["status-website"].introMessage)),r(u),c(f,u)};k(U,f=>{s["status-website"].introMessage&&f(x)})}c(l,Y)};k(b,l=>{s["status-website"]&&l(v)})}r($);var y=o($,2);ra(y,{});var I=o(y,2);la(I,{});var X=o(I,2);fa(X,{});var S=o(X,2);ya(S,{});var a=o(S,2);ua(a,{}),c(q,z),oe()}export{Na as component};
