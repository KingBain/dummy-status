import"../chunks/Bzak7iHL.js";import{i as re}from"../chunks/DFc0zbtz.js";import{h as Ie,x as se,y as m,A as F,C as c,D as oe,N as w,a6 as J,L as e,I as o,F as t,G as r,B as O,J as _,aR as ae,aO as ie,aW as Ge,z as Je,$ as Ke}from"../chunks/X3jE-T2Y.js";import{i as k}from"../chunks/CpGmBHPH.js";import{e as de,i as ce,h as Z}from"../chunks/mi_-g3Gk.js";import{t as Ue}from"../chunks/BkBjuftV.js";import{o as _e}from"../chunks/BMIcxzxD.js";import{c as s,s as te,r as le}from"../chunks/CcD9OjR-.js";import{t as Qe,c as ue,a as he,h as me,L as pe,s as De}from"../chunks/BMDZ4fr3.js";import{a as ne}from"../chunks/CZnPM1UV.js";import{b as Ve}from"../chunks/CK8u6KT8.js";function Xe(R,z,p,P){var $=R.__style;if(Ie||$!==z){var b=Qe(z);(!Ie||b!==R.getAttribute("style"))&&(b==null?R.removeAttribute("style"):R.style.cssText=b),R.__style=z}return P}var Ze=m('<article class="up"> </article>'),ea=m('<article><div class="f"><div><h4> </h4> <div> </div></div> <div class="f r"><a> </a></div></div></article>'),aa=m("<h2> </h2> <!>",1),ta=m('<!> <section class="svelte-1t2ezhh"><!></section>',1);function ra(R,z){se(z,!1);let p=J(!0);const P=ue(),$=s.owner,b=s.repo;let v=J([]);_e(async()=>{try{w(v,(await he(`issues-${$}-${b}`,()=>P.issues.listForRepo({owner:$,repo:b,state:"open",filter:"all",sort:"created",direction:"desc",labels:"status"}))).data),w(v,e(v).map((n,i)=>(n.showHeading=i===0||new Date(e(v)[i-1].created_at).toLocaleDateString()!==new Date(n.created_at).toLocaleDateString(),n)))}catch(n){me(n)}w(p,!1)}),re();var y=ta(),I=F(y);{var K=n=>{var i=Ze(),U=t(i);r(i),O(()=>_(U,`✅   ${s.i18n.allSystemsOperational??""}`)),c(n,i)};k(I,n=>{!e(v).length&&!e(p)&&n(K)})}var S=o(I,2),a=t(S);{var l=n=>{pe(n,{})},W=n=>{var i=ae(),U=F(i);{var x=f=>{var u=aa(),A=F(u),d=t(A,!0);r(A);var j=o(A,2);de(j,1,()=>e(v),ce,(q,L)=>{var M=ea(),Y=t(M),D=t(Y),C=t(D),V=t(C,!0);r(C);var B=o(C,2),H=t(B,!0);r(B),r(D);var N=o(D,2),g=t(N),G=t(g,!0);r(g),r(N),r(Y),r(M),O((T,Q,X,ee)=>{De(M,1,`down down-active link ${T??""}`),_(V,Q),_(H,X),te(g,"href",`${s.path}/incident/${e(L).number}`),_(G,ee)},[()=>e(L).title.includes("degraded")?"degraded":"",()=>e(L).title.replace("🛑","").replace("⚠️","").trim(),()=>s.i18n.activeIncidentSummary.replace(/\$DATE/g,new Date(e(L).created_at).toLocaleString(s.i18n.locale)).replace(/\$POSTS/g,e(L).comments),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(L).number)]),c(q,M)}),O(()=>_(d,s.i18n.activeIncidents)),c(f,u)};k(U,f=>{e(v).length&&f(x)},!0)}c(n,i)};k(a,n=>{e(p)?n(l):n(W,!1)})}r(S),c(R,y),oe()}var sa=m("<div> </div>"),oa=m('<article class="degraded degraded-active link"><div class="f"><div><h4> </h4> <!></div> <div class="f r"><a> </a></div></div></article>'),va=m("<h2> </h2> <!>",1),ia=m('<section class="svelte-1fbujbl"><!></section>');function la(R,z){se(z,!1);let p=J(!0);const P=ue(),$=s.owner,b=s.repo;let v=J([]);_e(async()=>{try{w(v,(await he(`scheduled-current-${$}-${b}`,()=>P.issues.listForRepo({owner:$,repo:b,state:"open",filter:"all",sort:"created",direction:"desc",labels:"maintenance"}))).data),w(v,e(v).map((a,l)=>(a.showHeading=l===0||new Date(e(v)[l-1].created_at).toLocaleDateString()!==new Date(a.created_at).toLocaleDateString(),a.metadata={},a.body.includes("<!--")&&a.body.split("<!--")[1].split("-->")[0].split(`
`).filter(i=>i.trim()).filter(i=>i.includes(":")).forEach(i=>{a.metadata[i.split(/:(.+)/)[0].trim()]=i.split(/:(.+)/)[1].trim()}),a)))}catch(a){me(a)}w(p,!1)}),re();var y=ia(),I=t(y);{var K=a=>{pe(a,{})},S=a=>{var l=ae(),W=F(l);{var n=i=>{var U=va(),x=F(U),f=t(x,!0);r(x);var u=o(x,2);de(u,1,()=>e(v),ce,(A,d)=>{var j=oa(),q=t(j),L=t(q),M=t(L),Y=t(M,!0);r(M);var D=o(M,2);{var C=N=>{var g=sa(),G=t(g,!0);r(g),O(T=>_(G,T),[()=>(new Date(e(d).metadata.start).getTime()<new Date().getTime()?s.i18n.scheduledMaintenanceSummaryStarted:s.i18n.scheduledMaintenanceSummaryStarts).replace(/\$DATE/g,new Date(e(d).metadata.start).toLocaleString(s.i18n.locale)).replace(/\$DURATION/g,Math.floor((new Date(e(d).metadata.end).getTime()-new Date(e(d).metadata.start).getTime())/6e4))]),c(N,g)};k(D,N=>{e(d).metadata.start&&e(d).metadata.end&&N(C)})}r(L);var V=o(L,2),B=t(V),H=t(B,!0);r(B),r(V),r(q),r(j),O((N,g)=>{_(Y,N),te(B,"href",`${s.path}/incident/${e(d).number}`),_(H,g)},[()=>e(d).title.replace("🛑","").replace("⚠️","").trim(),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(d).number)]),c(A,j)}),O(()=>_(f,s.i18n.scheduledMaintenance)),c(i,U)};k(W,i=>{e(v).length&&i(n)},!0)}c(a,l)};k(I,a=>{e(p)?a(K):a(S,!1)})}r(y),c(R,y),oe()}var na=m("<h3> </h3>"),da=m('<!> <article><div class="f"><div><h4> </h4> <div><!></div></div> <div class="f r"><a> </a></div></div></article>',1),ca=m('<h2 class="svelte-12muw8b"> </h2> <!>',1),_a=m("<section><!></section>");function ua(R,z){se(z,!1);let p=J(!0);const P=ue(),$=s.owner,b=s.repo;let v=J([]);_e(async()=>{try{w(v,(await he(`closed-issues-${$}-${b}`,()=>P.issues.listForRepo({owner:$,repo:b,state:"closed",filter:"all",sort:"created",direction:"desc",labels:"status"}))).data)}catch(a){me(a)}w(v,e(v).map((a,l)=>(a.showHeading=l===0||new Date(e(v)[l-1].created_at).toLocaleDateString()!==new Date(a.created_at).toLocaleDateString(),a))),w(p,!1)}),re();var y=_a(),I=t(y);{var K=a=>{pe(a,{})},S=a=>{var l=ae(),W=F(l);{var n=i=>{var U=ca(),x=F(U),f=t(x,!0);r(x);var u=o(x,2);de(u,1,()=>e(v),ce,(A,d)=>{var j=da(),q=F(j);{var L=T=>{var Q=na(),X=t(Q,!0);r(Q),O(ee=>_(X,ee),[()=>new Date(e(d).created_at).toLocaleDateString(s.i18n.locale)]),c(T,Q)};k(q,T=>{e(d).showHeading&&T(L)})}var M=o(q,2),Y=t(M),D=t(Y),C=t(D),V=t(C,!0);r(C);var B=o(C,2),H=t(B);Z(H,()=>s.i18n.pastIncidentsResolved.replace(/\$MINUTES/g,((new Date(e(d).closed_at).getTime()-new Date(e(d).created_at).getTime())/6e4).toFixed(0)).replace(/\$POSTS/g,e(d).comments)),r(B),r(D);var N=o(D,2),g=t(N),G=t(g,!0);r(g),r(N),r(Y),r(M),O((T,Q,X)=>{De(M,1,`down link ${T??""}`),_(V,Q),te(g,"href",`${s.path}/incident/${e(d).number}`),_(G,X)},[()=>e(d).title.includes("degraded")?"degraded":"",()=>e(d).title.replace("🛑","").replace("⚠️","").trim(),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(d).number)]),c(A,j)}),O(()=>_(f,s.i18n.pastIncidents)),c(i,U)};k(W,i=>{e(v).length&&i(n)},!0)}c(a,l)};k(I,a=>{e(p)?a(K):a(S,!1)})}r(y),c(R,y),oe()}var ma=m('<div><!> <span class="data svelte-oqs5vs"> <!></span></div>'),pa=m('<article><h4><img class="icon svelte-oqs5vs" alt=""/> <a class="svelte-oqs5vs"> </a></h4> <div><!> <span class="data svelte-oqs5vs"> <!></span></div> <!></article>'),ha=m('<div class="f changed svelte-oqs5vs"><h2> </h2> <form class="f r svelte-oqs5vs"><div><input name="d" type="radio" id="data_day" class="svelte-oqs5vs"/><label for="data_day" class="svelte-oqs5vs"> </label></div> <div><input name="d" type="radio" id="data_week" class="svelte-oqs5vs"/><label for="data_week" class="svelte-oqs5vs"> </label></div> <div><input name="d" type="radio" id="data_month" class="svelte-oqs5vs"/><label for="data_month" class="svelte-oqs5vs"> </label></div> <div><input name="d" type="radio" id="data_year" class="svelte-oqs5vs"/><label for="data_year" class="svelte-oqs5vs"> </label></div> <div><input name="d" type="radio" id="data_all" class="svelte-oqs5vs"/><label for="data_all" class="svelte-oqs5vs"> </label></div></form></div> <section class="live-status svelte-oqs5vs"><!></section>',1);function fa(R,z){se(z,!1);const p=[];let P=J(!0);ue();const $=s.owner,b=s.repo;let v=J([]),{apiBaseUrl:y,userContentBaseUrl:I}=s["status-website"]||{};y||(y="https://api.github.com"),I||(I="https://raw.githubusercontent.com");const K=`${I}/${$}/${b}/master/graphs`;let S=J(null),a=J("week");_e(async()=>{try{const h=await fetch(`${I}/${$}/${b}/master/history/summary.json`);w(v,await h.json())}catch(h){me(h)}w(P,!1),e(S)&&e(S).classList.remove("changed")});const l=()=>{e(S)&&(e(S).classList.add("changed"),setTimeout(()=>e(S).classList.remove("changed"),500))};re();var W=ha(),n=F(W),i=t(n),U=t(i,!0);r(i);var x=o(i,2),f=t(x),u=t(f);le(u),u.value=u.__value="day";var A=o(u),d=t(A,!0);r(A),r(f);var j=o(f,2),q=t(j);le(q),q.value=q.__value="week";var L=o(q),M=t(L,!0);r(L),r(j);var Y=o(j,2),D=t(Y);le(D),D.value=D.__value="month";var C=o(D),V=t(C,!0);r(C),r(Y);var B=o(Y,2),H=t(B);le(H),H.value=H.__value="year";var N=o(H),g=t(N,!0);r(N),r(B);var G=o(B,2),T=t(G);le(T),T.value=T.__value="all";var Q=o(T),X=t(Q,!0);r(Q),r(G),r(x),r(n),Ve(n,h=>w(S,h),()=>e(S));var ee=o(n,2),Ae=t(ee);{var Be=h=>{pe(h,{})},He=h=>{var Se=ae(),Ne=F(Se);{var Fe=fe=>{var xe=ae(),Oe=F(xe);de(Oe,1,()=>e(v),ce,(ze,E)=>{var ve=pa(),ge=t(ve),Te=t(ge),we=o(Te,2),Pe=t(we,!0);r(we),r(ge);var $e=o(ge,2),ke=t($e);Z(ke,()=>s.i18n.overallUptime.split("$UPTIME")[0]);var Re=o(ke,2),qe=t(Re),je=o(qe);Z(je,()=>s.i18n.overallUptime.split("$UPTIME")[1]),r(Re),r($e);var Ce=o($e,2);{var We=be=>{var ye=ma(),Le=t(ye);Z(Le,()=>s.i18n.averageResponseTime.split("$TIME")[0]);var Me=o(Le,2),Ee=t(Me),Ye=o(Ee);Z(Ye,()=>s.i18n.averageResponseTime.split("$TIME")[1]),r(Me),r(ye),O(()=>_(Ee,`${(e(a)==="day"?e(E).timeDay:e(a)==="week"?e(E).timeWeek:e(a)==="month"?e(E).timeMonth:e(a)==="year"?e(E).timeYear:e(E).time)??""} `)),c(be,ye)};k(Ce,be=>{(e(E).showAverageResponseTime===void 0||e(E).showAverageResponseTime)&&be(We)})}r(ve),O(()=>{De(ve,1,`${e(E).status} link graph`,"svelte-oqs5vs"),Xe(ve,`--background: url('${`${K}/${e(E).slug}/response-time${e(a)==="day"?"-day":e(a)==="week"?"-week":e(a)==="month"?"-month":e(a)==="year"?"-year":""}.png`}')`),te(Te,"src",e(E).icon),te(we,"href",`${s.path}/history/${e(E).slug}`),_(Pe,e(E).name),_(qe,`${(e(a)==="day"?e(E).uptimeDay:e(a)==="week"?e(E).uptimeWeek:e(a)==="month"?e(E).uptimeMonth:e(a)==="year"?e(E).uptimeYear:e(E).uptime)??""} `)}),c(ze,ve)}),c(fe,xe)};k(Ne,fe=>{e(v).length&&fe(Fe)},!0)}c(h,Se)};k(Ae,h=>{e(P)?h(Be):h(He,!1)})}r(ee),O(()=>{_(U,s.i18n.liveStatus),_(d,s.i18n.duration24H),_(M,s.i18n.duration7D),_(V,s.i18n.duration30D),_(g,s.i18n.duration1Y),_(X,s.i18n.durationAll)}),ne(p,[],u,()=>e(a),h=>w(a,h)),ie("change",u,l),ne(p,[],q,()=>e(a),h=>w(a,h)),ie("change",q,l),ne(p,[],D,()=>e(a),h=>w(a,h)),ie("change",D,l),ne(p,[],H,()=>e(a),h=>w(a,h)),ie("change",H,l),ne(p,[],T,()=>e(a),h=>w(a,h)),ie("change",T,l),c(R,W),oe()}var ga=m("<h3> </h3>"),wa=m('<!> <article class="link degraded"><div class="f"><div><h4> </h4> <div>Completed</div></div> <div class="f r"><a> </a></div></div></article>',1),$a=m('<h2 class="svelte-asq9zz"> </h2> <!>',1),ba=m("<section><!></section>");function ya(R,z){se(z,!1);let p=J(!0);const P=ue(),$=s.owner,b=s.repo;let v=J([]);_e(async()=>{try{w(v,(await he(`maintenance-issues-${$}-${b}`,()=>P.issues.listForRepo({owner:$,repo:b,state:"closed",filter:"all",sort:"created",direction:"desc",labels:"maintenance"}))).data)}catch(a){me(a)}w(v,e(v).map((a,l)=>(a.showHeading=l===0||new Date(e(v)[l-1].created_at).toLocaleDateString()!==new Date(a.created_at).toLocaleDateString(),a))),w(p,!1)}),re();var y=ba(),I=t(y);{var K=a=>{pe(a,{})},S=a=>{var l=ae(),W=F(l);{var n=i=>{var U=$a(),x=F(U),f=t(x,!0);r(x);var u=o(x,2);de(u,1,()=>e(v),ce,(A,d)=>{var j=wa(),q=F(j);{var L=g=>{var G=ga(),T=t(G,!0);r(G),O(Q=>_(T,Q),[()=>new Date(e(d).created_at).toLocaleDateString(s.i18n.locale)]),c(g,G)};k(q,g=>{e(d).showHeading&&g(L)})}var M=o(q,2),Y=t(M),D=t(Y),C=t(D),V=t(C,!0);r(C),Ge(2),r(D);var B=o(D,2),H=t(B),N=t(H,!0);r(H),r(B),r(Y),r(M),O((g,G)=>{_(V,g),te(H,"href",`${s.path}/incident/${e(d).number}`),_(N,G)},[()=>e(d).title.replace("🛑","").replace("⚠️","").trim(),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(d).number)]),c(A,j)}),O(()=>_(f,s.i18n.pastScheduledMaintenance)),c(i,U)};k(W,i=>{e(v).length&&i(n)},!0)}c(a,l)};k(I,a=>{e(p)?a(K):a(S,!1)})}r(y),c(R,y),oe()}var Da=m("<h1><!></h1>"),Sa=m('<p class="lead svelte-1uha8ag"><!></p>'),xa=m("<!> <!>",1),Ta=m('<header class="svelte-1uha8ag"><!></header> <!> <!> <!> <!> <!>',1);function Na(R,z){se(z,!1);let p=J("Status");try{w(p,s["status-website"].name)}catch{}re();var P=Ta();Je(l=>{O(()=>Ke.title=e(p)??"")});var $=F(P),b=t($);{var v=l=>{var W=xa(),n=F(W);{var i=f=>{var u=Da(),A=t(u);Z(A,()=>Ue(s["status-website"].introTitle)),r(u),c(f,u)};k(n,f=>{s["status-website"].introTitle&&f(i)})}var U=o(n,2);{var x=f=>{var u=Sa(),A=t(u);Z(A,()=>Ue(s["status-website"].introMessage)),r(u),c(f,u)};k(U,f=>{s["status-website"].introMessage&&f(x)})}c(l,W)};k(b,l=>{s["status-website"]&&l(v)})}r($);var y=o($,2);ra(y,{});var I=o(y,2);la(I,{});var K=o(I,2);fa(K,{});var S=o(K,2);ya(S,{});var a=o(S,2);ua(a,{}),c(R,P),oe()}export{Na as component};
