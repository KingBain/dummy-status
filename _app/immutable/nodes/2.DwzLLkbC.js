import"../chunks/CWj6FrbW.js";import{i as ae}from"../chunks/BJ11ZHe0.js";import{h as Ee,o as te,v as m,x as Q,z as u,A as re,K as y,a3 as z,I as e,D as o,B as t,C as r,y as B,F as c,O as Z,aM as ie,aP as ze,aU as Ke,w as Ge,$ as Je}from"../chunks/CV9VBUnM.js";import{i as R}from"../chunks/CyX3xOQ5.js";import{e as ne,i as de,h as X}from"../chunks/DPsVTImy.js";import{t as Ie}from"../chunks/BkBjuftV.js";import{o as ce}from"../chunks/Dby_e5pt.js";import{c as s,s as ee,r as le}from"../chunks/Dr0ZO741.js";import{t as Qe,c as _e,a as pe,h as ue,L as me,s as be}from"../chunks/iwAsUrZ0.js";import{a as ve}from"../chunks/C90zXKqF.js";import{b as Ve}from"../chunks/xVdwT38i.js";function Xe(L,H,p,F){var w=L.__style;if(Ee||w!==H){var $=Qe(H);(!Ee||$!==L.getAttribute("style"))&&($==null?L.removeAttribute("style"):L.style.cssText=$),L.__style=H}return F}var Ze=m('<article class="up"> </article>'),ea=m('<article><div class="f"><div><h4> </h4> <div> </div></div> <div class="f r"><a> </a></div></div></article>'),aa=m("<h2> </h2> <!>",1),ta=m('<!> <section class="svelte-1b6gx67"><!></section>',1);function ra(L,H){te(H,!1);let p=z(!0);const F=_e(),w=s.owner,$=s.repo;let l=z([]);ce(async()=>{try{y(l,(await pe(`issues-${w}-${$}`,()=>F.issues.listForRepo({owner:w,repo:$,state:"open",filter:"all",sort:"created",direction:"desc",labels:"status"}))).data),y(l,e(l).map((i,n)=>(i.showHeading=n===0||new Date(e(l)[n-1].created_at).toLocaleDateString()!==new Date(i.created_at).toLocaleDateString(),i)))}catch(i){ue(i)}y(p,!1)}),ae();var b=ta(),I=Q(b);{var K=i=>{var n=Ze(),S=t(n);r(n),B(()=>c(S,`✅   ${s.i18n.allSystemsOperational??""}`)),u(i,n)};R(I,i=>{!e(l).length&&!e(p)&&i(K)})}var x=o(I,2),a=t(x);{var d=i=>{me(i,{})},N=(i,n)=>{{var S=O=>{var k=aa(),_=Q(k),v=t(_,!0);r(_);var j=o(_,2);ne(j,1,()=>e(l),de,(P,g)=>{var M=ea(),G=t(M),U=t(G),T=t(U),J=t(T,!0);r(T);var C=o(T,2),W=t(C,!0);r(C),r(U);var D=o(U,2),f=t(D),q=t(f,!0);r(f),r(D),r(G),r(M),B((Y,A,V,se)=>{be(M,1,`down down-active link ${Y??""}`),c(J,A),c(W,V),ee(f,"href",`${s.path}/incident/${e(g).number}`),c(q,se)},[()=>e(g).title.includes("degraded")?"degraded":"",()=>e(g).title.replace("🛑","").replace("⚠️","").trim(),()=>s.i18n.activeIncidentSummary.replace(/\$DATE/g,new Date(e(g).created_at).toLocaleString(s.i18n.locale)).replace(/\$POSTS/g,e(g).comments),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(g).number)],Z),u(P,M)}),B(()=>c(v,s.i18n.activeIncidents)),u(O,k)};R(i,O=>{e(l).length&&O(S)},n)}};R(a,i=>{e(p)?i(d):i(N,!1)})}r(x),u(L,b),re()}var sa=m("<div> </div>"),oa=m('<article class="degraded degraded-active link"><div class="f"><div><h4> </h4> <!></div> <div class="f r"><a> </a></div></div></article>'),ia=m("<h2> </h2> <!>",1),la=m('<section class="svelte-1b6gx67"><!></section>');function va(L,H){te(H,!1);let p=z(!0);const F=_e(),w=s.owner,$=s.repo;let l=z([]);ce(async()=>{try{y(l,(await pe(`scheduled-current-${w}-${$}`,()=>F.issues.listForRepo({owner:w,repo:$,state:"open",filter:"all",sort:"created",direction:"desc",labels:"maintenance"}))).data),y(l,e(l).map((a,d)=>(a.showHeading=d===0||new Date(e(l)[d-1].created_at).toLocaleDateString()!==new Date(a.created_at).toLocaleDateString(),a.metadata={},a.body.includes("<!--")&&a.body.split("<!--")[1].split("-->")[0].split(`
`).filter(n=>n.trim()).filter(n=>n.includes(":")).forEach(n=>{a.metadata[n.split(/:(.+)/)[0].trim()]=n.split(/:(.+)/)[1].trim()}),a)))}catch(a){ue(a)}y(p,!1)}),ae();var b=la(),I=t(b);{var K=a=>{me(a,{})},x=(a,d)=>{{var N=i=>{var n=ia(),S=Q(n),O=t(S,!0);r(S);var k=o(S,2);ne(k,1,()=>e(l),de,(_,v)=>{var j=oa(),P=t(j),g=t(P),M=t(g),G=t(M,!0);r(M);var U=o(M,2);{var T=D=>{var f=sa(),q=t(f,!0);r(f),B(Y=>c(q,Y),[()=>(new Date(e(v).metadata.start).getTime()<new Date().getTime()?s.i18n.scheduledMaintenanceSummaryStarted:s.i18n.scheduledMaintenanceSummaryStarts).replace(/\$DATE/g,new Date(e(v).metadata.start).toLocaleString(s.i18n.locale)).replace(/\$DURATION/g,Math.floor((new Date(e(v).metadata.end).getTime()-new Date(e(v).metadata.start).getTime())/6e4))],Z),u(D,f)};R(U,D=>{e(v).metadata.start&&e(v).metadata.end&&D(T)})}r(g);var J=o(g,2),C=t(J),W=t(C,!0);r(C),r(J),r(P),r(j),B((D,f)=>{c(G,D),ee(C,"href",`${s.path}/incident/${e(v).number}`),c(W,f)},[()=>e(v).title.replace("🛑","").replace("⚠️","").trim(),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(v).number)],Z),u(_,j)}),B(()=>c(O,s.i18n.scheduledMaintenance)),u(i,n)};R(a,i=>{e(l).length&&i(N)},d)}};R(I,a=>{e(p)?a(K):a(x,!1)})}r(b),u(L,b),re()}var na=m("<h3> </h3>"),da=m('<!> <article><div class="f"><div><h4> </h4> <div><!></div></div> <div class="f r"><a> </a></div></div></article>',1),ca=m('<h2 class="svelte-1s892aw"> </h2> <!>',1),_a=m("<section><!></section>");function ua(L,H){te(H,!1);let p=z(!0);const F=_e(),w=s.owner,$=s.repo;let l=z([]);ce(async()=>{try{y(l,(await pe(`closed-issues-${w}-${$}`,()=>F.issues.listForRepo({owner:w,repo:$,state:"closed",filter:"all",sort:"created",direction:"desc",labels:"status"}))).data)}catch(a){ue(a)}y(l,e(l).map((a,d)=>(a.showHeading=d===0||new Date(e(l)[d-1].created_at).toLocaleDateString()!==new Date(a.created_at).toLocaleDateString(),a))),y(p,!1)}),ae();var b=_a(),I=t(b);{var K=a=>{me(a,{})},x=(a,d)=>{{var N=i=>{var n=ca(),S=Q(n),O=t(S,!0);r(S);var k=o(S,2);ne(k,1,()=>e(l),de,(_,v)=>{var j=da(),P=Q(j);{var g=Y=>{var A=na(),V=t(A,!0);r(A),B(se=>c(V,se),[()=>new Date(e(v).created_at).toLocaleDateString(s.i18n.locale)],Z),u(Y,A)};R(P,Y=>{e(v).showHeading&&Y(g)})}var M=o(P,2),G=t(M),U=t(G),T=t(U),J=t(T,!0);r(T);var C=o(T,2),W=t(C);X(W,()=>s.i18n.pastIncidentsResolved.replace(/\$MINUTES/g,((new Date(e(v).closed_at).getTime()-new Date(e(v).created_at).getTime())/6e4).toFixed(0)).replace(/\$POSTS/g,e(v).comments)),r(C),r(U);var D=o(U,2),f=t(D),q=t(f,!0);r(f),r(D),r(G),r(M),B((Y,A,V)=>{be(M,1,`down link ${Y??""}`),c(J,A),ee(f,"href",`${s.path}/incident/${e(v).number}`),c(q,V)},[()=>e(v).title.includes("degraded")?"degraded":"",()=>e(v).title.replace("🛑","").replace("⚠️","").trim(),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(v).number)],Z),u(_,j)}),B(()=>c(O,s.i18n.pastIncidents)),u(i,n)};R(a,i=>{e(l).length&&i(N)},d)}};R(I,a=>{e(p)?a(K):a(x,!1)})}r(b),u(L,b),re()}var ma=m('<div><!> <span class="data svelte-oyfk4y"> <!></span></div>'),pa=m('<article><h4><img class="icon svelte-oyfk4y" alt=""/> <a class="svelte-oyfk4y"> </a></h4> <div><!> <span class="data svelte-oyfk4y"> <!></span></div> <!></article>'),fa=m('<div class="f changed svelte-oyfk4y"><h2> </h2> <form class="f r svelte-oyfk4y"><div><input name="d" type="radio" id="data_day" class="svelte-oyfk4y"/><label for="data_day" class="svelte-oyfk4y"> </label></div> <div><input name="d" type="radio" id="data_week" class="svelte-oyfk4y"/><label for="data_week" class="svelte-oyfk4y"> </label></div> <div><input name="d" type="radio" id="data_month" class="svelte-oyfk4y"/><label for="data_month" class="svelte-oyfk4y"> </label></div> <div><input name="d" type="radio" id="data_year" class="svelte-oyfk4y"/><label for="data_year" class="svelte-oyfk4y"> </label></div> <div><input name="d" type="radio" id="data_all" class="svelte-oyfk4y"/><label for="data_all" class="svelte-oyfk4y"> </label></div></form></div> <section class="live-status svelte-oyfk4y"><!></section>',1);function ha(L,H){te(H,!1);const p=[];let F=z(!0);_e();const w=s.owner,$=s.repo;let l=z([]),{apiBaseUrl:b,userContentBaseUrl:I}=s["status-website"]||{};b||(b="https://api.github.com"),I||(I="https://raw.githubusercontent.com");const K=`${I}/${w}/${$}/master/graphs`;let x=z(null),a=z("week");ce(async()=>{try{const h=await fetch(`${I}/${w}/${$}/master/history/summary.json`);y(l,await h.json())}catch(h){ue(h)}y(F,!1),e(x)&&e(x).classList.remove("changed")});const d=()=>{e(x)&&(e(x).classList.add("changed"),setTimeout(()=>e(x).classList.remove("changed"),500))};ae();var N=fa(),i=Q(N),n=t(i),S=t(n,!0);r(n);var O=o(n,2),k=t(O),_=t(k);le(_),_.value=_.__value="day";var v=o(_),j=t(v,!0);r(v),r(k);var P=o(k,2),g=t(P);le(g),g.value=g.__value="week";var M=o(g),G=t(M,!0);r(M),r(P);var U=o(P,2),T=t(U);le(T),T.value=T.__value="month";var J=o(T),C=t(J,!0);r(J),r(U);var W=o(U,2),D=t(W);le(D),D.value=D.__value="year";var f=o(D),q=t(f,!0);r(f),r(W);var Y=o(W,2),A=t(Y);le(A),A.value=A.__value="all";var V=o(A),se=t(V,!0);r(V),r(Y),r(O),r(i),Ve(i,h=>y(x,h),()=>e(x));var ke=o(i,2),Ae=t(ke);{var Be=h=>{me(h,{})},He=(h,Fe)=>{{var Ne=fe=>{var De=ze(),Oe=Q(De);ne(Oe,1,()=>e(l),de,(Pe,E)=>{var oe=pa(),he=t(oe),xe=t(he),ge=o(xe,2),Ce=t(ge,!0);r(ge),r(he);var ye=o(he,2),Se=t(ye);X(Se,()=>s.i18n.overallUptime.split("$UPTIME")[0]);var Te=o(Se,2),Me=t(Te),Ye=o(Me);X(Ye,()=>s.i18n.overallUptime.split("$UPTIME")[1]),r(Te),r(ye);var je=o(ye,2);{var We=we=>{var $e=ma(),Re=t($e);X(Re,()=>s.i18n.averageResponseTime.split("$TIME")[0]);var Le=o(Re,2),Ue=t(Le),qe=o(Ue);X(qe,()=>s.i18n.averageResponseTime.split("$TIME")[1]),r(Le),r($e),B(()=>c(Ue,`${(e(a)==="day"?e(E).timeDay:e(a)==="week"?e(E).timeWeek:e(a)==="month"?e(E).timeMonth:e(a)==="year"?e(E).timeYear:e(E).time)??""} `)),u(we,$e)};R(je,we=>{(e(E).showAverageResponseTime===void 0||e(E).showAverageResponseTime)&&we(We)})}r(oe),B(()=>{be(oe,1,`${e(E).status} link graph`,"svelte-oyfk4y"),Xe(oe,`--background: url('${`${K}/${e(E).slug}/response-time${e(a)==="day"?"-day":e(a)==="week"?"-week":e(a)==="month"?"-month":e(a)==="year"?"-year":""}.png`}')`),ee(xe,"src",e(E).icon),ee(ge,"href",`${s.path}/history/${e(E).slug}`),c(Ce,e(E).name),c(Me,`${(e(a)==="day"?e(E).uptimeDay:e(a)==="week"?e(E).uptimeWeek:e(a)==="month"?e(E).uptimeMonth:e(a)==="year"?e(E).uptimeYear:e(E).uptime)??""} `)}),u(Pe,oe)}),u(fe,De)};R(h,fe=>{e(l).length&&fe(Ne)},Fe)}};R(Ae,h=>{e(F)?h(Be):h(He,!1)})}r(ke),B(()=>{c(S,s.i18n.liveStatus),c(j,s.i18n.duration24H),c(G,s.i18n.duration7D),c(C,s.i18n.duration30D),c(q,s.i18n.duration1Y),c(se,s.i18n.durationAll)}),ve(p,[],_,()=>e(a),h=>y(a,h)),ie("change",_,d),ve(p,[],g,()=>e(a),h=>y(a,h)),ie("change",g,d),ve(p,[],T,()=>e(a),h=>y(a,h)),ie("change",T,d),ve(p,[],D,()=>e(a),h=>y(a,h)),ie("change",D,d),ve(p,[],A,()=>e(a),h=>y(a,h)),ie("change",A,d),u(L,N),re()}var ga=m("<h3> </h3>"),ya=m('<!> <article class="link degraded"><div class="f"><div><h4> </h4> <div>Completed</div></div> <div class="f r"><a> </a></div></div></article>',1),wa=m('<h2 class="svelte-1s892aw"> </h2> <!>',1),$a=m("<section><!></section>");function ba(L,H){te(H,!1);let p=z(!0);const F=_e(),w=s.owner,$=s.repo;let l=z([]);ce(async()=>{try{y(l,(await pe(`maintenance-issues-${w}-${$}`,()=>F.issues.listForRepo({owner:w,repo:$,state:"closed",filter:"all",sort:"created",direction:"desc",labels:"maintenance"}))).data)}catch(a){ue(a)}y(l,e(l).map((a,d)=>(a.showHeading=d===0||new Date(e(l)[d-1].created_at).toLocaleDateString()!==new Date(a.created_at).toLocaleDateString(),a))),y(p,!1)}),ae();var b=$a(),I=t(b);{var K=a=>{me(a,{})},x=(a,d)=>{{var N=i=>{var n=wa(),S=Q(n),O=t(S,!0);r(S);var k=o(S,2);ne(k,1,()=>e(l),de,(_,v)=>{var j=ya(),P=Q(j);{var g=f=>{var q=ga(),Y=t(q,!0);r(q),B(A=>c(Y,A),[()=>new Date(e(v).created_at).toLocaleDateString(s.i18n.locale)],Z),u(f,q)};R(P,f=>{e(v).showHeading&&f(g)})}var M=o(P,2),G=t(M),U=t(G),T=t(U),J=t(T,!0);r(T),Ke(2),r(U);var C=o(U,2),W=t(C),D=t(W,!0);r(W),r(C),r(G),r(M),B((f,q)=>{c(J,f),ee(W,"href",`${s.path}/incident/${e(v).number}`),c(D,q)},[()=>e(v).title.replace("🛑","").replace("⚠️","").trim(),()=>s.i18n.incidentReport.replace(/\$NUMBER/g,e(v).number)],Z),u(_,j)}),B(()=>c(O,s.i18n.pastScheduledMaintenance)),u(i,n)};R(a,i=>{e(l).length&&i(N)},d)}};R(I,a=>{e(p)?a(K):a(x,!1)})}r(b),u(L,b),re()}var ka=m("<h1><!></h1>"),Da=m('<p class="lead svelte-1hl5gt8"><!></p>'),xa=m("<!> <!>",1),Sa=m('<header class="svelte-1hl5gt8"><!></header> <!> <!> <!> <!> <!>',1);function Na(L,H){te(H,!1);let p=z("Status");try{y(p,s["status-website"].name)}catch{}ae();var F=Sa();Ge(d=>{B(()=>Je.title=e(p))});var w=Q(F),$=t(w);{var l=d=>{var N=xa(),i=Q(N);{var n=k=>{var _=ka(),v=t(_);X(v,()=>Ie(s["status-website"].introTitle)),r(_),u(k,_)};R(i,k=>{s["status-website"].introTitle&&k(n)})}var S=o(i,2);{var O=k=>{var _=Da(),v=t(_);X(v,()=>Ie(s["status-website"].introMessage)),r(_),u(k,_)};R(S,k=>{s["status-website"].introMessage&&k(O)})}u(d,N)};R($,d=>{s["status-website"]&&d(l)})}r(w);var b=o(w,2);ra(b,{});var I=o(b,2);va(I,{});var K=o(I,2);ha(K,{});var x=o(K,2);ba(x,{});var a=o(x,2);ua(a,{}),u(L,F),re()}export{Na as component};
