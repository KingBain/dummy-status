import{h as I,d as B,b as ee,L as q,R as ae,f as re,H as ne,g as x,s as V,j as S,w as b,a2 as X,a3 as le,m as $,n as se,c as fe,a4 as z,a5 as te,k as ie,a6 as ue,a7 as F,a8 as ve,o as G,v as de,a9 as oe,aa as L,ab as J,ac as _e,ad as he,ae as K,af as ce,ag as me,ah as pe,O as P,B as Ee,ai as ge,aj as Te,ak as we,al as U,am as Re,an as H}from"./BKiTnuz0.js";function be(t,n){return n}function Ae(t,n,e){for(var f=t.items,h=[],v=n.length,i=0;i<v;i++)ce(n[i].e,h,!0);var o=v>0&&h.length===0&&e!==null;if(o){var l=e.parentNode;me(l),l.append(e),f.clear(),A(t,n[0].prev,n[v-1].next)}pe(h,()=>{for(var E=0;E<v;E++){var _=n[E];o||(f.delete(_.k),A(t,_.prev,_.next)),J(_.e,!o)}})}function Me(t,n,e,f,h,v=null){var i=t,o={flags:n,items:new Map,first:null};I&&B();var l=null,E=!1,_=new Map,c=ae(()=>{var a=e();return te(a)?a:a==null?[]:z(a)}),r,m;function s(){Ie(m,r,o,_,i,h,n,f,e),v!==null&&(r.length===0?l?G(l):l=$(()=>v(i)):l!==null&&de(l,()=>{l=null}))}ee(()=>{m??(m=P),r=q(c);var a=r.length;if(E&&a===0)return;E=a===0;let p=!1;if(I){var M=re(i)===ne;M!==(a===0)&&(i=x(),V(i),S(!1),p=!0)}if(I){for(var T=null,u,d=0;d<a;d++){if(b.nodeType===X&&b.data===le){i=b,p=!0,S(!1);break}var g=r[d],w=f(g,d);u=k(b,o,T,null,g,w,d,h,n,e),o.items.set(w,u),T=u}a>0&&V(x())}if(I)a===0&&v&&(l=$(()=>v(i)));else if(se()){var C=new Set,N=fe;for(d=0;d<a;d+=1){g=r[d],w=f(g,d);var R=o.items.get(w)??_.get(w);R?Q(R,g,d):(u=k(null,o,null,null,g,w,d,h,n,e,!0),_.set(w,u)),C.add(w)}for(const[D,y]of o.items)C.has(D)||N.skipped_effects.add(y.e);N.add_callback(s)}else s();p&&S(!0),q(c)}),I&&(i=b)}function Ie(t,n,e,f,h,v,i,o,l){var E=n.length,_=e.items,c=e.first,r=c,m,s=null,a=[],p=[],M,T,u,d;for(d=0;d<E;d+=1){if(M=n[d],T=o(M,d),u=_.get(T),u===void 0){var g=f.get(T);if(g!==void 0){f.delete(T),_.set(T,g);var w=s?s.next:r;A(e,s,g),A(e,g,w),Y(g,w,h),s=g}else{var C=r?r.e.nodes_start:h;s=k(C,e,s,s===null?e.first:s.next,M,T,d,v,i,l)}_.set(T,s),a=[],p=[],r=s.next;continue}if(Q(u,M,d),(u.e.f&L)!==0&&G(u.e),u!==r){if(m!==void 0&&m.has(u)){if(a.length<p.length){var N=p[0],R;s=N.prev;var D=a[0],y=a[a.length-1];for(R=0;R<a.length;R+=1)Y(a[R],N,h);for(R=0;R<p.length;R+=1)m.delete(p[R]);A(e,D.prev,y.next),A(e,s,D),A(e,y,N),r=N,s=y,d-=1,a=[],p=[]}else m.delete(u),Y(u,r,h),A(e,u.prev,u.next),A(e,u,s===null?e.first:s.next),A(e,s,u),s=u;continue}for(a=[],p=[];r!==null&&r.k!==T;)(r.e.f&L)===0&&(m??(m=new Set)).add(r),p.push(r),r=r.next;if(r===null)continue;u=r}a.push(u),s=u,r=u.next}if(r!==null||m!==void 0){for(var O=m===void 0?[]:z(m);r!==null;)(r.e.f&L)===0&&O.push(r),r=r.next;var W=O.length;if(W>0){var Z=null;Ae(e,O,Z)}}t.first=e.first&&e.first.e,t.last=s&&s.e;for(var j of f.values())J(j.e);f.clear()}function Q(t,n,e,f){ve(t.v,n),t.i=e}function k(t,n,e,f,h,v,i,o,l,E,_){var c=(l&_e)!==0,r=(l&he)===0,m=c?r?ue(h,!1,!1):F(h):h,s=(l&oe)===0?i:F(i),a={i:s,v:m,k:v,a:null,e:null,prev:e,next:f};try{if(t===null){var p=document.createDocumentFragment();p.append(t=ie())}return a.e=$(()=>o(t,m,s,E),I),a.e.prev=e&&e.e,a.e.next=f&&f.e,e===null?_||(n.first=a):(e.next=a,e.e.next=a.e),f!==null&&(f.prev=a,f.e.prev=a.e),a}finally{}}function Y(t,n,e){for(var f=t.next?t.next.e.nodes_start:e,h=n?n.e.nodes_start:e,v=t.e.nodes_start;v!==null&&v!==f;){var i=K(v);h.before(v),v=i}}function A(t,n,e){n===null?t.first=e:(n.next=e,n.e.next=e&&e.e),e!==null&&(e.prev=n,e.e.prev=n&&n.e)}function ye(t,n,e=!1,f=!1,h=!1){var v=t,i="";Ee(()=>{var o=P;if(i===(i=n()??"")){I&&B();return}if(o.nodes_start!==null&&(ge(o.nodes_start,o.nodes_end),o.nodes_start=o.nodes_end=null),i!==""){if(I){b.data;for(var l=B(),E=l;l!==null&&(l.nodeType!==X||l.data!=="");)E=l,l=K(l);if(l===null)throw Te(),we;U(b,E),v=V(l);return}var _=i+"";e?_=`<svg>${_}</svg>`:f&&(_=`<math>${_}</math>`);var c=Re(_);if((e||f)&&(c=H(c)),U(H(c),c.lastChild),e||f)for(;H(c);)v.before(H(c));else v.before(c)}})}export{Me as e,ye as h,be as i};
