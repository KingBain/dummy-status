import{h as T,C as H,D as X,m as O,j as K,H as Q,E as Y,F as k,G as b,I,J as W,K as q,M as D,N as Z,O as x,Q as P,z as $,R as S,T as C,U as V,V as j,W as ee,X as ae,Y as re,Z as ne,_ as z,a0 as le,a1 as fe,a2 as B,a3 as ie,a4 as se,a5 as te}from"./CmSReOwR.js";import{b as L,c as ue}from"./DEszVtjC.js";function ce(t,e){return e}function ve(t,e,r,d){for(var o=[],v=e.length,i=0;i<v;i++)ae(e[i].e,o,!0);var h=v>0&&o.length===0&&r!==null;if(h){var n=r.parentNode;re(n),n.append(r),d.clear(),E(t,e[0].prev,e[v-1].next)}ne(o,()=>{for(var c=0;c<v;c++){var a=e[c];h||(d.delete(a.k),E(t,a.prev,a.next)),z(a.e,!h)}})}function me(t,e,r,d,o,v=null){var i=t,h={flags:e,items:new Map,first:null};T&&H();var n=null,c=!1,a=K(()=>{var s=r();return P(s)?s:s==null?[]:x(s)});X(()=>{var s=O(a),l=s.length;if(c&&l===0)return;c=l===0;let _=!1;if(T){var u=i.data===Q;u!==(l===0)&&(i=Y(),k(i),b(!1),_=!0)}if(T){for(var y=null,g,f=0;f<l;f++){if(I.nodeType===8&&I.data===W){i=I,_=!0,b(!1);break}var m=s[f],R=d(m,f);g=F(I,h,y,null,m,R,f,o,e,r),h.items.set(R,g),y=g}l>0&&k(Y())}T||de(s,h,i,o,e,d,r),v!==null&&(l===0?n?q(n):n=D(()=>v(i)):n!==null&&Z(n,()=>{n=null})),_&&b(!0),O(a)}),T&&(i=I)}function de(t,e,r,d,o,v,i){var h=t.length,n=e.items,c=e.first,a=c,s,l=null,_=[],u=[],y,g,f,m;for(m=0;m<h;m+=1){if(y=t[m],g=v(y,m),f=n.get(g),f===void 0){var R=a?a.e.nodes_start:r;l=F(R,e,l,l===null?e.first:l.next,y,g,m,d,o,i),n.set(g,l),_=[],u=[],a=l.next;continue}if(_e(f,y,m),(f.e.f&C)!==0&&q(f.e),f!==a){if(s!==void 0&&s.has(f)){if(_.length<u.length){var A=u[0],p;l=A.prev;var M=_[0],w=_[_.length-1];for(p=0;p<_.length;p+=1)U(_[p],A,r);for(p=0;p<u.length;p+=1)s.delete(u[p]);E(e,M.prev,w.next),E(e,l,M),E(e,w,A),a=A,l=w,m-=1,_=[],u=[]}else s.delete(f),U(f,a,r),E(e,f.prev,f.next),E(e,f,l===null?e.first:l.next),E(e,l,f),l=f;continue}for(_=[],u=[];a!==null&&a.k!==g;)(a.e.f&C)===0&&(s??(s=new Set)).add(a),u.push(a),a=a.next;if(a===null)continue;f=a}_.push(f),l=f,a=f.next}if(a!==null||s!==void 0){for(var N=s===void 0?[]:x(s);a!==null;)(a.e.f&C)===0&&N.push(a),a=a.next;var G=N.length;if(G>0){var J=null;ve(e,N,J,n)}}V.first=e.first&&e.first.e,V.last=l&&l.e}function _e(t,e,r,d){ee(t.v,e),t.i=r}function F(t,e,r,d,o,v,i,h,n,c){var a=(n&le)!==0,s=(n&fe)===0,l=a?s?$(o):S(o):o,_=(n&j)===0?i:S(i),u={i:_,v:l,k:v,a:null,e:null,prev:r,next:d};try{return u.e=D(()=>h(t,l,_,c),T),u.e.prev=r&&r.e,u.e.next=d&&d.e,r===null?e.first=u:(r.next=u,r.e.next=u.e),d!==null&&(d.prev=u,d.e.prev=u.e),u}finally{}}function U(t,e,r){for(var d=t.next?t.next.e.nodes_start:r,o=e?e.e.nodes_start:r,v=t.e.nodes_start;v!==d;){var i=B(v);o.before(v),v=i}}function E(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function ge(t,e,r,d,o){var v=t,i="",h;X(()=>{if(i===(i=e()??"")){T&&H();return}h!==void 0&&(z(h),h=void 0),i!==""&&(h=D(()=>{if(T){I.data;for(var n=H(),c=n;n!==null&&(n.nodeType!==8||n.data!=="");)c=n,n=B(n);if(n===null)throw ie(),se;L(I,c),v=k(n);return}var a=i+"",s=ue(a);L(te(s),s.lastChild),v.before(s)}))})}export{me as e,ge as h,ce as i};
