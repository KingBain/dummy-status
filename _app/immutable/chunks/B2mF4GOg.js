import{l as b,r as i,t as y,q as k,h as S,i as E,a as g,c as _,u as q}from"./BNc28RAJ.js";function V(e,c,l=c){var s=g(),v=new WeakSet;b(e,"input",f=>{var a=f?e.defaultValue:e.value;if(a=n(e)?h(a):a,l(a),_!==null&&v.add(_),s&&a!==(a=c())){var t=e.selectionStart,d=e.selectionEnd;e.value=a??"",d!==null&&(e.selectionStart=t,e.selectionEnd=Math.min(d,e.value.length))}}),(S&&e.defaultValue!==e.value||q(c)==null&&e.value)&&(l(n(e)?h(e.value):e.value),_!==null&&v.add(_)),i(()=>{var f=c();e===document.activeElement&&v.has(_)||n(e)&&f===h(e.value)||e.type==="date"&&!f&&!e.value||f!==e.value&&(e.value=f??"")})}const u=new Set;function C(e,c,l,s,v=s){var f=l.getAttribute("type")==="checkbox",a=e;let t=!1;if(c!==null)for(var d of c)a=a[d]??(a[d]=[]);a.push(l),b(l,"change",()=>{var r=l.__value;f&&(r=m(a,r,l.checked)),v(r)},()=>v(f?[]:null)),i(()=>{var r=s();if(S&&l.defaultChecked!==l.checked){t=!0;return}f?(r=r||[],l.checked=r.includes(l.__value)):l.checked=E(l.__value,r)}),y(()=>{var r=a.indexOf(l);r!==-1&&a.splice(r,1)}),u.has(a)||(u.add(a),k(()=>{a.sort((r,o)=>r.compareDocumentPosition(o)===4?-1:1),u.delete(a)})),k(()=>{if(t){var r;if(f)r=m(a,r,l.checked);else{var o=a.find(w=>w.checked);r=o==null?void 0:o.__value}v(r)}})}function m(e,c,l){for(var s=new Set,v=0;v<e.length;v+=1)e[v].checked&&s.add(e[v].__value);return l||s.delete(c),Array.from(s)}function n(e){var c=e.type;return c==="number"||c==="range"}function h(e){return e===""?null:+e}export{C as a,V as b};
