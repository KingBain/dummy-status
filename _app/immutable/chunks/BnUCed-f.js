import{l as m,r as b,t as y,q as n,h as S,i as g,a as i,u as q}from"./BoVP9MGj.js";function E(e,v,a=v){var s=i();m(e,"input",c=>{var f=c?e.defaultValue:e.value;if(f=h(e)?t(f):f,a(f),s&&f!==(f=v())){var r=e.selectionStart,o=e.selectionEnd;e.value=f??"",o!==null&&(e.selectionStart=r,e.selectionEnd=Math.min(o,e.value.length))}}),(S&&e.defaultValue!==e.value||q(v)==null&&e.value)&&a(h(e)?t(e.value):e.value),b(()=>{var c=v();h(e)&&c===t(e.value)||e.type==="date"&&!c&&!e.value||c!==e.value&&(e.value=c??"")})}const u=new Set;function V(e,v,a,s,c=s){var f=a.getAttribute("type")==="checkbox",r=e;let o=!1;if(v!==null)for(var d of v)r=r[d]??(r[d]=[]);r.push(a),m(a,"change",()=>{var l=a.__value;f&&(l=k(r,l,a.checked)),c(l)},()=>c(f?[]:null)),b(()=>{var l=s();if(S&&a.defaultChecked!==a.checked){o=!0;return}f?(l=l||[],a.checked=l.includes(a.__value)):a.checked=g(a.__value,l)}),y(()=>{var l=r.indexOf(a);l!==-1&&r.splice(l,1)}),u.has(r)||(u.add(r),n(()=>{r.sort((l,_)=>l.compareDocumentPosition(_)===4?-1:1),u.delete(r)})),n(()=>{if(o){var l;if(f)l=k(r,l,a.checked);else{var _=r.find(w=>w.checked);l=_==null?void 0:_.__value}c(l)}})}function k(e,v,a){for(var s=new Set,c=0;c<e.length;c+=1)e[c].checked&&s.add(e[c].__value);return a||s.delete(v),Array.from(s)}function h(e){var v=e.type;return v==="number"||v==="range"}function t(e){return e===""?null:+e}export{V as a,E as b};
